/*
**  ASTy-ASTq -- Abstract Syntax Tree With Integrated Query Engine
**  Copyright (c) 2014-2015 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ASTYASTQ = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ASTQ=e()}}(function(){return function e(t,r,n){function i(u,s){if(!r[u]){if(!t[u]){var o="function"==typeof _dereq_&&_dereq_;if(!s&&o)return o(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[u]={exports:{}};t[u][0].call(l.exports,function(e){var r=t[u][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[u].exports}for(var a="function"==typeof _dereq_&&_dereq_,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){n(this,e)}return r(e,{taste:{value:function(e){return"object"==typeof e&&"boolean"==typeof e.ASTy},writable:!0,configurable:!0},getParentNode:{value:function(e){return e.parent()},writable:!0,configurable:!0},getChildNodes:{value:function(e){return e.childs()},writable:!0,configurable:!0},getNodeType:{value:function(e){return e.type()},writable:!0,configurable:!0},getNodeAttrNames:{value:function(e){return e.attrs()},writable:!0,configurable:!0},getNodeAttrValue:{value:function(e,t){return e.get(t)},writable:!0,configurable:!0}}),e}();t.exports=i},{}],2:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){n(this,e)}return r(e,{taste:{value:function(e){return"object"==typeof e&&"string"==typeof e.type&&"object"==typeof e.loc},writable:!0,configurable:!0},getParentNode:{value:function(){throw new Error("Mozilla SpiderMonkey AST does not support parent node traversal")},writable:!0,configurable:!0},getChildNodes:{value:function(e){var t=this,r=[];for(var n in e)e.hasOwnProperty(n)&&this.taste(e[n])?r.push(e):e.hasOwnProperty(n)&&"object"==typeof e[n]&&e[n]instanceof Array&&e[n].forEach(function(e){t.taste(e)&&r.push(e)});return r},writable:!0,configurable:!0},getNodeType:{value:function(e){return e.type},writable:!0,configurable:!0},getNodeAttrNames:{value:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&"object"!=typeof e[r]&&"type"!==r&&"loc"!==r&&t.push(r);return t},writable:!0,configurable:!0},getNodeAttrValue:{value:function(e,t){return e.hasOwnProperty(t)&&"object"!=typeof e[t]&&"type"!==t&&"loc"!==t?e[t]:void 0},writable:!0,configurable:!0}}),e}();t.exports=i},{}],3:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){n(this,e)}return r(e,{taste:{value:function(e){return"object"==typeof Node&&e instanceof Node&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},writable:!0,configurable:!0},getParentNode:{value:function(e){return e.parentNode},writable:!0,configurable:!0},getChildNodes:{value:function(e){return e.childNodes},writable:!0,configurable:!0},getNodeType:{value:function(e){return e.nodeName},writable:!0,configurable:!0},getNodeAttrNames:{value:function(e){return Array.prototype.slice.call(e.attributes,0).map(function(e){return e.nodeName})},writable:!0,configurable:!0},getNodeAttrValue:{value:function(e,t){return e.getAttribute(t)},writable:!0,configurable:!0}}),e}();t.exports=i},{}],4:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){return n(this,e),this._adapters=[],this}return r(e,null,{register:{value:function(e){return this._adapters.unshift(e),this},writable:!0,configurable:!0},unregister:{value:function(e){if(void 0===e)this._adapters=[];else{for(var t=[],r=0;r<this._adapters.length;r++)this._adapters[r]!==e&&t.push(this._adapters[r]);this._adapters=t}return this},writable:!0,configurable:!0},select:{value:function(e){for(var t=0;t<this._adapters.length;t++)if(this._adapters[t].taste(e))return this._adapters[t];return void 0},writable:!0,configurable:!0}}),e}();t.exports=i},{}],5:[function(e,t){"use strict";var r={type:function(e,t){return e.getNodeType(t)},depth:function(e,t){for(var r=1,n=t;null!==(n=e.getParentNode(n));)r++;return r},pos:function(e,t){var r=e.getParentNode(t);if(null===r)return 1;for(var n=e.getChildNodes(r),i=0;i<n.length;i++)if(n[i]===t)return i+1;throw new Error("cannot find myself")},nth:function(e,t,r){r=parseInt(r,10);var n=e.getParentNode(t);if(null!==n){var i=e.getChildNodes(n);0>r&&(r=i-(r+1));for(var a=0;a<i.length;a++)if(i[a]===t)return a+1===r;return!1}return 1===r?!0:!1},first:function(e,t){return r.nth(e,t,1)},last:function(e,t){return r.nth(e,t,-1)},count:function(e,t,r){return"object"==typeof r&&r instanceof Array?r.length:"object"==typeof r?Object.keys(r).length:"string"==typeof r?r.length:String(r).length},substr:function(e,t,r,n,i){return String(r).substr(n,i)},lc:function(e,t,r){return String(r).toLowerCase()},uc:function(e,t,r){return String(r).toUpperCase()}};t.exports=r},{}],6:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){return n(this,e),this._funcs={},this}return r(e,null,{register:{value:function(e,t){this._funcs[e]=t},writable:!0,configurable:!0},run:{value:function(e,t){var r=this._funcs[e];if("function"!=typeof r)throw new Error('invalid function "'+e+'"');return r.apply(null,t)},writable:!0,configurable:!0}}),e}();t.exports=i},{}],7:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=r(e("./astq-util.js")),s=r(e("./astq-query-trace.js")),o=function(e){function t(e,r,n,i){a(this,t),this.adapter=e,this.params=r,this.funcs=n,this.trace=i}return i(t,e),n(t,null,{execQuery:{value:function(e,t){var r=this;this.traceBegin(e,t);var n=[];return e.childs().forEach(function(e){n=n.concat(r.execPath(e,t))}),this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execPath:{value:function(e,t){var r=this;this.traceBegin(e,t);var n=[t];return e.childs().forEach(function(e){var t=[];n.forEach(function(n){t=t.concat(r.execStep(e,n))}),n=t}),this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execStep:{value:function(e,t){var r=this;this.traceBegin(e,t);var n=e.childs(),i=null,a=null,u=null,s=0;if(s<n.length&&"Axis"===n[s].type()&&(i=n[s++]),s<n.length&&"Match"===n[s].type()&&(a=n[s++]),s<n.length&&"Filter"===n[s].type()&&(u=n[s++]),null===a)throw new Error("no matching part in query step");var o=[],c=a.get("id"),l=function(e){var t=r.adapter.getNodeType(e);if("*"===c||c===t){var n=!0;null!==u&&(r.execFilter(u,e)||(n=!1)),n&&o.push(e)}};if(null!==i){var f=i.get("op");if("/"===f)this.adapter.getChildNodes(t).forEach(function(e){return l(e)});else if("//"===f)!function(){var e=function(t){l(t),r.adapter.getChildNodes(t).forEach(function(t){return e(t)})};r.adapter.getChildNodes(t).forEach(function(t){return e(t)})}();else if("-/"===f){var p=this.adapter.getParentNode(t);if(null!==p){for(var h=this.adapter.getChildNodes(p),d=null,v=0;v<h.length&&h[v]!==t;v++)d=h[v];l(d)}}else if("-//"===f){var b=this.adapter.getParentNode(t);if(null!==b)for(var h=this.adapter.getChildNodes(b),g=0;g<h.length&&h[g]!==t;g++)l(h[g])}else if("+/"===f){var x=this.adapter.getParentNode(t);if(null!==x){var h=this.adapter.getChildNodes(x),y=void 0;for(y=0;y<h.length&&h[y]!==t;y++);y<h.length&&(y++,l(h[y]))}}else if("+//"===f){var A=this.adapter.getParentNode(t);if(null!==A){var h=this.adapter.getChildNodes(A),w=void 0;for(w=0;w<h.length&&h[w]!==t;w++);if(w<h.length)for(w++;w<h.length;)l(h[w++])}}else if("../"===f){var m=this.adapter.getParentNode(t);null!==m&&l(m)}else if("..//"===f)for(var E=t;;){var P=this.adapter.getParentNode(E);if(null===P)break;l(P),E=P}}else l(t);return this.traceEnd(e,t,o),o},writable:!0,configurable:!0},execFilter:{value:function(e,t){this.traceBegin(e,t);var r=e.childs()[0],n=this.execExpr(r,t);return n=u.truthy(n),this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execExpr:{value:function(e,t){switch(e.type()){case"ConditionalBinary":return this.execExprConditionalBinary(e,t);case"ConditionalTernary":return this.execExprConditionalTernary(e,t);case"Logical":return this.execExprLogical(e,t);case"Bitwise":return this.execExprBitwise(e,t);case"Relational":return this.execExprRelational(e,t);case"Arithmetical":return this.execExprArithmetical(e,t);case"Unary":return this.execExprUnary(e,t);case"FuncCall":return this.execExprFuncCall(e,t);case"Attribute":return this.execExprAttribute(e,t);case"Param":return this.execExprParam(e,t);case"LiteralString":return this.execExprLiteralString(e,t);case"LiteralRegExp":return this.execExprLiteralRegExp(e,t);case"LiteralNumber":return this.execExprLiteralNumber(e,t);case"LiteralValue":return this.execExprLiteralValue(e,t);case"Path":return this.execExprPath(e,t)}},writable:!0,configurable:!0},execExprConditionalBinary:{value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t);return u.truthy(r)||(r=this.execExpr(e.childs()[1],t)),this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprConditionalTernary:{value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t);return r=u.truthy(r)?this.execExpr(e.childs()[1],t):this.execExpr(e.childs()[2],t),this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprLogical:{value:function(e,t){this.traceBegin(e,t);var r=!1;switch(e.get("op")){case"&&":r=u.truthy(this.execExpr(e.childs()[0],t)),r&&(r=r&&u.truthy(this.execExpr(e.childs()[1],t)));break;case"||":r=u.truthy(this.execExpr(e.childs()[0],t)),r||(r=r||u.truthy(this.execExpr(e.childs()[1],t)))}return this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprBitwise:{value:function(e,t){this.traceBegin(e,t);var r=u.coerce(this.execExpr(e.childs()[0],t),"number"),n=u.coerce(this.execExpr(e.childs()[1],t),"number"),i=void 0;switch(e.get("op")){case"&":i=r&n;break;case"|":i=r|n;break;case"<<":i=r<<n;break;case">>":i=r>>n}return this.traceEnd(e,t,i),i},writable:!0,configurable:!0},execExprRelational:{value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=this.execExpr(e.childs()[1],t),i=void 0;switch(e.get("op")){case"==":i=r===n;break;case"!=":i=r!==n;break;case"<=":i=u.coerce(r,"number")<=u.coerce(n,"number");break;case">=":i=u.coerce(r,"number")>=u.coerce(n,"number");break;case"<":i=u.coerce(r,"number")<u.coerce(n,"number");break;case">":i=u.coerce(r,"number")>u.coerce(n,"number");break;case"=~":i=null!==u.coerce(r,"string").match(u.coerce(n,"regexp"));break;case"!~":i=null===u.coerce(r,"string").match(u.coerce(n,"regexp"))}return this.traceEnd(e,t,i),i},writable:!0,configurable:!0},execExprArithmetical:{value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=this.execExpr(e.childs()[1],t),i=void 0;switch(e.get("op")){case"+":i="string"==typeof r?r+u.coerce(n,"string"):u.coerce(r,"number")+u.coerce(n,"number");break;case"-":i=u.coerce(r,"number")+u.coerce(n,"number");break;case"*":i=u.coerce(r,"number")*u.coerce(n,"number");break;case"/":i=u.coerce(r,"number")/u.coerce(n,"number");break;case"%":i=u.coerce(r,"number")%u.coerce(n,"number");break;case"**":i=Math.pow(u.coerce(r,"number"),u.coerce(n,"number"))}return this.traceEnd(e,t,i),i},writable:!0,configurable:!0},execExprUnary:{value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=void 0;switch(e.get("op")){case"!":n=!u.coerce(r,"boolean");break;case"~":n=~u.coerce(r,"number")}return this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execExprFuncCall:{value:function(e,t){var r=this;this.traceBegin(e,t);var n=e.get("id"),i=[this.adapter,t];e.childs().forEach(function(e){i.push(r.execExpr(e,t))});var a=this.funcs.run(n,i);return this.traceEnd(e,t,a),a},writable:!0,configurable:!0},execExprAttribute:{value:function(e,t){this.traceBegin(e,t);var r=e.get("id"),n=this.adapter.getNodeAttrValue(t,r);return this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execExprParam:{value:function(e,t){this.traceBegin(e,t);var r=e.get("id");if("undefined"==typeof this.params[r])throw new Error('invalid parameter "'+r+'"');var n=this.params[r];return this.traceEnd(e,t,n),n},writable:!0,configurable:!0},execExprLiteralString:{value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprLiteralRegExp:{value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprLiteralNumber:{value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprLiteralValue:{value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r},writable:!0,configurable:!0},execExprPath:{value:function(e,t){this.traceBegin(e,t);var r=this.execPath(e,t);return this.traceEnd(e,t,r),r},writable:!0,configurable:!0}}),t}(s);t.exports=o},{"./astq-query-trace.js":8,"./astq-util.js":10}],8:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=r(e("./astq-util.js")),u=function(){function e(){i(this,e)}return n(e,null,{prefixOf:{value:function(e,t){for(var r=0,n=e;null!==(n=n.parent());)r++;var i=a.pad("",4*r);for(r=0,n=t;null!==(n=this.adapter.getParentNode(n));)r++;var u=a.pad("",4*r);return{prefix1:i,prefix2:u}},writable:!0,configurable:!0},traceBegin:{value:function(e,t){if(this.trace){var r=this.prefixOf(e,t),n=r.prefix1,i=r.prefix2;console.log("ASTQ: execute: | "+a.pad(n+e.type()+" (",-60)+" | "+i+this.adapter.getNodeType(t))}},writable:!0,configurable:!0},traceEnd:{value:function(e,t,r){var n=this;if(this.trace){var i=this.prefixOf(e,t),u=i.prefix1,s=i.prefix2,o=void 0;void 0===r?o="undefined":"object"==typeof r&&r instanceof Array?(o="[",r.forEach(function(e){o+="node("+n.adapter.getNodeType(e)+"),"}),o=o.replace(/,$/,"")+"]"):o=typeof r+"("+r+")",o.length>60&&(o=o.substr(0,60)+"..."),console.log("ASTQ: execute: | "+a.pad(u+"): "+o,-60)+" | "+s+this.adapter.getNodeType(t))}},writable:!0,configurable:!0}}),e}();t.exports=u},{"./astq-util.js":10}],9:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=e("asty"),u=e("pegjs-util"),s=function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,t,r,n,i,a){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=a,this.name="SyntaxError"}function r(e){function r(){return ra}function n(){return u(ra).line}function i(){return u(ra).column}function a(e){throw o(e,null,ra)}function u(t){function r(t,r,n){var i,a;for(i=r;n>i;i++)a=e.charAt(i),"\n"===a?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return na!==t&&(na>t&&(na=0,ia={line:1,column:1,seenCR:!1}),r(ia,na,t),na=t),ia}function s(e){aa>ta||(ta>aa&&(aa=ta,ua=[]),ua.push(e))}function o(r,n,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function r(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var n,i,a,u=new Array(e.length);for(a=0;a<e.length;a++)u[a]=e[a].description;return n=e.length>1?u.slice(0,-1).join(", ")+" or "+u[e.length-1]:u[0],i=t?'"'+r(t)+'"':"end of input","Expected "+n+" but "+i+" found."}var o=u(i),c=i<e.length?e.charAt(i):null;return null!==n&&a(n),new t(null!==r?r:s(n,c),n,c,i,o.line,o.column)}function c(){var e,t,r,n,i,a=36*ta+0,u=oa[a];return u?(ta=u.nextPos,u.result):(e=ta,t=z(),t!==G?(r=l(),r!==G?(n=z(),n!==G?(i=Z(),i!==G?(ra=e,t=W(r),e=t):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K),oa[a]={nextPos:ta,result:e},e)}function l(){var t,r,n,i,a,u,o,c,l=36*ta+1,p=oa[l];if(p)return ta=p.nextPos,p.result;if(t=ta,r=f(),r!==G){for(n=[],i=ta,a=z(),a!==G?(44===e.charCodeAt(ta)?(u=X,ta++):(u=G,0===sa&&s(Y)),u!==G?(o=z(),o!==G?(c=f(),c!==G?(a=[a,u,o,c],i=a):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K);i!==G;)n.push(i),i=ta,a=z(),a!==G?(44===e.charCodeAt(ta)?(u=X,ta++):(u=G,0===sa&&s(Y)),u!==G?(o=z(),o!==G?(c=f(),c!==G?(a=[a,u,o,c],i=a):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K);n!==G?(ra=t,r=et(r,n),t=r):(ta=t,t=K)}else ta=t,t=K;return oa[l]={nextPos:ta,result:t},t}function f(){var e,t,r,n,i,a,u=36*ta+2,s=oa[u];if(s)return ta=s.nextPos,s.result;if(e=ta,t=p(),t!==G){for(r=[],n=ta,i=z(),i!==G?(a=h(),a!==G?(i=[i,a],n=i):(ta=n,n=K)):(ta=n,n=K);n!==G;)r.push(n),n=ta,i=z(),i!==G?(a=h(),a!==G?(i=[i,a],n=i):(ta=n,n=K)):(ta=n,n=K);r!==G?(ra=e,t=tt(t,r),e=t):(ta=e,e=K)}else ta=e,e=K;return oa[u]={nextPos:ta,result:e},e}function p(){var e,t,r,n,i,a,u=36*ta+3,s=oa[u];return s?(ta=s.nextPos,s.result):(e=ta,t=d(),t===G&&(t=rt),t!==G?(r=z(),r!==G?(n=v(),n!==G?(i=z(),i!==G?(a=b(),a===G&&(a=rt),a!==G?(ra=e,t=nt(t,n,a),e=t):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K),oa[u]={nextPos:ta,result:e},e)}function h(){var e,t,r,n,i,a,u=36*ta+4,s=oa[u];return s?(ta=s.nextPos,s.result):(e=ta,t=d(),t!==G?(r=z(),r!==G?(n=v(),n!==G?(i=z(),i!==G?(a=b(),a===G&&(a=rt),a!==G?(ra=e,t=nt(t,n,a),e=t):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K)):(ta=e,e=K),oa[u]={nextPos:ta,result:e},e)}function d(){var t,r,n,i=36*ta+5,a=oa[i];return a?(ta=a.nextPos,a.result):(sa++,t=ta,r=ta,e.substr(ta,2)===at?(n=at,ta+=2):(n=G,0===sa&&s(ut)),n===G&&(47===e.charCodeAt(ta)?(n=st,ta++):(n=G,0===sa&&s(ot)),n===G&&(e.substr(ta,3)===ct?(n=ct,ta+=3):(n=G,0===sa&&s(lt)),n===G&&(e.substr(ta,2)===ft?(n=ft,ta+=2):(n=G,0===sa&&s(pt)),n===G&&(e.substr(ta,3)===ht?(n=ht,ta+=3):(n=G,0===sa&&s(dt)),n===G&&(e.substr(ta,2)===vt?(n=vt,ta+=2):(n=G,0===sa&&s(bt)),n===G&&(e.substr(ta,4)===gt?(n=gt,ta+=4):(n=G,0===sa&&s(xt)),n===G&&(e.substr(ta,3)===yt?(n=yt,ta+=3):(n=G,0===sa&&s(At))))))))),n!==G&&(n=e.substring(r,ta)),r=n,r!==G&&(ra=t,r=wt(r)),t=r,sa--,t===G&&(r=G,0===sa&&s(it)),oa[i]={nextPos:ta,result:t},t)}function v(){var t,r,n=36*ta+6,i=oa[n];return i?(ta=i.nextPos,i.result):(t=ta,r=B(),r!==G&&(ra=t,r=mt(r)),t=r,t===G&&(t=ta,42===e.charCodeAt(ta)?(r=Et,ta++):(r=G,0===sa&&s(Pt)),r!==G&&(ra=t,r=Ct()),t=r),oa[n]={nextPos:ta,result:t},t)}function b(){var t,r,n,i,a,u,o=36*ta+7,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,91===e.charCodeAt(ta)?(r=Nt,ta++):(r=G,0===sa&&s(jt)),r!==G?(n=z(),n!==G?(i=g(),i!==G?(a=z(),a!==G?(93===e.charCodeAt(ta)?(u=Tt,ta++):(u=G,0===sa&&s(_t)),u!==G?(ra=t,r=qt(i),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),oa[o]={nextPos:ta,result:t},t)}function g(){var t,r,n,i,a,u,o,c,l,f,p=36*ta+8,h=oa[p];return h?(ta=h.nextPos,h.result):(t=ta,r=x(),r!==G?(n=z(),n!==G?(e.substr(ta,2)===St?(i=St,ta+=2):(i=G,0===sa&&s(Ot)),i!==G?(a=z(),a!==G?(u=x(),u!==G?(ra=t,r=kt(r,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=ta,r=x(),r!==G?(n=z(),n!==G?(63===e.charCodeAt(ta)?(i=Lt,ta++):(i=G,0===sa&&s(Bt)),i!==G?(a=z(),a!==G?(u=x(),u!==G?(o=z(),o!==G?(58===e.charCodeAt(ta)?(c=Ft,ta++):(c=G,0===sa&&s(Rt)),c!==G?(l=z(),l!==G?(f=x(),f!==G?(ra=t,r=Qt(r,u,f),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=x())),oa[p]={nextPos:ta,result:t},t)}function x(){var t,r,n,i,a,u,o=36*ta+9,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=y(),r!==G?(n=z(),n!==G?(i=ta,e.substr(ta,2)===Mt?(a=Mt,ta+=2):(a=G,0===sa&&s(Vt)),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=x(),u!==G?(ra=t,r=zt(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=y()),oa[o]={nextPos:ta,result:t},t)}function y(){var t,r,n,i,a,u,o=36*ta+10,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=A(),r!==G?(n=z(),n!==G?(i=ta,e.substr(ta,2)===Ut?(a=Ut,ta+=2):(a=G,0===sa&&s(It)),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=y(),u!==G?(ra=t,r=zt(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=A()),oa[o]={nextPos:ta,result:t},t)}function A(){var t,r,n,i,a,u,o=36*ta+11,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=w(),r!==G?(n=z(),n!==G?(i=ta,124===e.charCodeAt(ta)?(a=Zt,ta++):(a=G,0===sa&&s(Dt)),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=A(),u!==G?(ra=t,r=$t(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=w()),oa[o]={nextPos:ta,result:t},t)}function w(){var t,r,n,i,a,u,o=36*ta+12,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=m(),r!==G?(n=z(),n!==G?(i=ta,94===e.charCodeAt(ta)?(a=Gt,ta++):(a=G,0===sa&&s(Ht)),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=w(),u!==G?(ra=t,r=$t(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=m()),oa[o]={nextPos:ta,result:t},t)}function m(){var t,r,n,i,a,u,o=36*ta+13,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=E(),r!==G?(n=z(),n!==G?(i=ta,38===e.charCodeAt(ta)?(a=Jt,ta++):(a=G,0===sa&&s(Kt)),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=m(),u!==G?(ra=t,r=$t(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=E()),oa[o]={nextPos:ta,result:t},t)}function E(){var t,r,n,i,a,u,o=36*ta+14,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=P(),r!==G?(n=z(),n!==G?(i=ta,e.substr(ta,2)===Wt?(a=Wt,ta+=2):(a=G,0===sa&&s(Xt)),a===G&&(e.substr(ta,2)===Yt?(a=Yt,ta+=2):(a=G,0===sa&&s(er)),a===G&&(e.substr(ta,2)===tr?(a=tr,ta+=2):(a=G,0===sa&&s(rr)),a===G&&(e.substr(ta,2)===nr?(a=nr,ta+=2):(a=G,0===sa&&s(ir)),a===G&&(60===e.charCodeAt(ta)?(a=ar,ta++):(a=G,0===sa&&s(ur)),a===G&&(62===e.charCodeAt(ta)?(a=sr,ta++):(a=G,0===sa&&s(or)),a===G&&(e.substr(ta,2)===cr?(a=cr,ta+=2):(a=G,0===sa&&s(lr)),a===G&&(e.substr(ta,2)===fr?(a=fr,ta+=2):(a=G,0===sa&&s(pr))))))))),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=E(),u!==G?(ra=t,r=hr(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=P()),oa[o]={nextPos:ta,result:t},t)}function P(){var t,r,n,i,a,u,o=36*ta+15,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=C(),r!==G?(n=z(),n!==G?(i=ta,e.substr(ta,2)===dr?(a=dr,ta+=2):(a=G,0===sa&&s(vr)),a===G&&(e.substr(ta,2)===br?(a=br,ta+=2):(a=G,0===sa&&s(gr))),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=P(),u!==G?(ra=t,r=$t(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=C()),oa[o]={nextPos:ta,result:t},t)}function C(){var t,r,n,i,a,u,o=36*ta+16,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=N(),r!==G?(n=z(),n!==G?(i=ta,43===e.charCodeAt(ta)?(a=xr,ta++):(a=G,0===sa&&s(yr)),a===G&&(45===e.charCodeAt(ta)?(a=Ar,ta++):(a=G,0===sa&&s(wr))),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=C(),u!==G?(ra=t,r=mr(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=N()),oa[o]={nextPos:ta,result:t},t)}function N(){var t,r,n,i,a,u,o=36*ta+17,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,r=j(),r!==G?(n=z(),n!==G?(i=ta,e.substr(ta,2)===Er?(a=Er,ta+=2):(a=G,0===sa&&s(Pr)),a===G&&(42===e.charCodeAt(ta)?(a=Et,ta++):(a=G,0===sa&&s(Pt)),a===G&&(47===e.charCodeAt(ta)?(a=st,ta++):(a=G,0===sa&&s(ot)),a===G&&(37===e.charCodeAt(ta)?(a=Cr,ta++):(a=G,0===sa&&s(Nr))))),a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(a=z(),a!==G?(u=N(),u!==G?(ra=t,r=mr(r,i,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=j()),oa[o]={nextPos:ta,result:t},t)}function j(){var t,r,n,i=36*ta+18,a=oa[i];return a?(ta=a.nextPos,a.result):(t=ta,r=ta,33===e.charCodeAt(ta)?(n=jr,ta++):(n=G,0===sa&&s(Tr)),n===G&&(126===e.charCodeAt(ta)?(n=_r,ta++):(n=G,0===sa&&s(qr))),n!==G&&(n=e.substring(r,ta)),r=n,r!==G?(n=T(),n!==G?(ra=t,r=Sr(r,n),t=r):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=T()),oa[i]={nextPos:ta,result:t},t)}function T(){var e,t=36*ta+19,r=oa[t];return r?(ta=r.nextPos,r.result):(e=_(),e===G&&(e=S(),e===G&&(e=O(),e===G&&(e=k(),e===G&&(e=L(),e===G&&(e=f()))))),oa[t]={nextPos:ta,result:e},e)}function _(){var t,r,n,i,a,u,o,c,l=36*ta+20,f=oa[l];return f?(ta=f.nextPos,f.result):(t=ta,r=B(),r!==G?(n=z(),n!==G?(40===e.charCodeAt(ta)?(i=Or,ta++):(i=G,0===sa&&s(kr)),i!==G?(a=z(),a!==G?(u=q(),u===G&&(u=rt),u!==G?(o=z(),o!==G?(41===e.charCodeAt(ta)?(c=Lr,ta++):(c=G,0===sa&&s(Br)),c!==G?(ra=t,r=Fr(r,u),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),oa[l]={nextPos:ta,result:t},t)}function q(){var t,r,n,i,a,u,o,c,l=36*ta+21,f=oa[l];if(f)return ta=f.nextPos,f.result;if(t=ta,r=g(),r!==G){for(n=[],i=ta,a=z(),a!==G?(44===e.charCodeAt(ta)?(u=X,ta++):(u=G,0===sa&&s(Y)),u!==G?(o=z(),o!==G?(c=g(),c!==G?(a=[a,u,o,c],i=a):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K);i!==G;)n.push(i),i=ta,a=z(),a!==G?(44===e.charCodeAt(ta)?(u=X,ta++):(u=G,0===sa&&s(Y)),u!==G?(o=z(),o!==G?(c=g(),c!==G?(a=[a,u,o,c],i=a):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K);n!==G?(ra=t,r=Rr(r,n),t=r):(ta=t,t=K)}else ta=t,t=K;return oa[l]={nextPos:ta,result:t},t}function S(){var t,r,n,i=36*ta+22,a=oa[i];return a?(ta=a.nextPos,a.result):(sa++,t=ta,64===e.charCodeAt(ta)?(r=Mr,ta++):(r=G,0===sa&&s(Vr)),r!==G?(n=B(),n!==G?(ra=t,r=zr(n),t=r):(ta=t,t=K)):(ta=t,t=K),sa--,t===G&&(r=G,0===sa&&s(Qr)),oa[i]={nextPos:ta,result:t},t)}function O(){var t,r,n,i,a,u,o=36*ta+23,c=oa[o];return c?(ta=c.nextPos,c.result):(sa++,t=ta,123===e.charCodeAt(ta)?(r=Ir,ta++):(r=G,0===sa&&s(Zr)),r!==G?(n=z(),n!==G?(i=B(),i!==G?(a=z(),a!==G?(125===e.charCodeAt(ta)?(u=Dr,ta++):(u=G,0===sa&&s($r)),u!==G?(ra=t,r=Gr(i),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),sa--,t===G&&(r=G,0===sa&&s(Ur)),oa[o]={nextPos:ta,result:t},t)}function k(){var e,t=36*ta+24,r=oa[t];return r?(ta=r.nextPos,r.result):(e=F(),e===G&&(e=Q(),e===G&&(e=M(),e===G&&(e=V()))),oa[t]={nextPos:ta,result:e},e)}function L(){var t,r,n,i,a,u,o=36*ta+25,c=oa[o];return c?(ta=c.nextPos,c.result):(t=ta,40===e.charCodeAt(ta)?(r=Or,ta++):(r=G,0===sa&&s(kr)),r!==G?(n=z(),n!==G?(i=g(),i!==G?(a=z(),a!==G?(41===e.charCodeAt(ta)?(u=Lr,ta++):(u=G,0===sa&&s(Br)),u!==G?(ra=t,r=Hr(i),t=r):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K)):(ta=t,t=K),oa[o]={nextPos:ta,result:t},t)}function B(){var t,r,n,i,a,u,o,c=36*ta+26,l=oa[c];if(l)return ta=l.nextPos,l.result;if(sa++,t=ta,r=ta,n=ta,i=ta,sa++,a=V(),sa--,a===G?i=Kr:(ta=i,i=K),i!==G)if(Wr.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(Xr)),a!==G){for(u=[],Yr.test(e.charAt(ta))?(o=e.charAt(ta),ta++):(o=G,0===sa&&s(en));o!==G;)u.push(o),Yr.test(e.charAt(ta))?(o=e.charAt(ta),ta++):(o=G,0===sa&&s(en));u!==G?(i=[i,a,u],n=i):(ta=n,n=K)}else ta=n,n=K;else ta=n,n=K;return n!==G&&(n=e.substring(r,ta)),r=n,r!==G&&(ra=t,r=tn(r)),t=r,sa--,t===G&&(r=G,0===sa&&s(Jr)),oa[c]={nextPos:ta,result:t},t}function F(){var t,r,n,i,a,u=36*ta+27,o=oa[u];if(o)return ta=o.nextPos,o.result;if(sa++,t=ta,34===e.charCodeAt(ta)?(r=nn,ta++):(r=G,0===sa&&s(an)),r!==G){for(n=[],i=R(),i===G&&(un.test(e.charAt(ta))?(i=e.charAt(ta),ta++):(i=G,0===sa&&s(sn)));i!==G;)n.push(i),i=R(),i===G&&(un.test(e.charAt(ta))?(i=e.charAt(ta),ta++):(i=G,0===sa&&s(sn)));n!==G?(34===e.charCodeAt(ta)?(i=nn,ta++):(i=G,0===sa&&s(an)),i!==G?(ra=t,r=on(n),t=r):(ta=t,t=K)):(ta=t,t=K)}else ta=t,t=K;if(t===G)if(t=ta,39===e.charCodeAt(ta)?(r=cn,ta++):(r=G,0===sa&&s(ln)),r!==G){for(n=ta,i=[],e.substr(ta,2)===fn?(a=fn,ta+=2):(a=G,0===sa&&s(pn)),a===G&&(hn.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(dn)));a!==G;)i.push(a),e.substr(ta,2)===fn?(a=fn,ta+=2):(a=G,0===sa&&s(pn)),a===G&&(hn.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(dn)));i!==G&&(i=e.substring(n,ta)),n=i,n!==G?(39===e.charCodeAt(ta)?(i=cn,ta++):(i=G,0===sa&&s(ln)),i!==G?(ra=t,r=vn(n),t=r):(ta=t,t=K)):(ta=t,t=K)}else ta=t,t=K;return sa--,t===G&&(r=G,0===sa&&s(rn)),oa[u]={nextPos:ta,result:t},t}function R(){var t,r,n,i,a,u,o,c,l=36*ta+28,f=oa[l];return f?(ta=f.nextPos,f.result):(sa++,t=ta,e.substr(ta,2)===gn?(r=gn,ta+=2):(r=G,0===sa&&s(xn)),r!==G&&(ra=t,r=yn()),t=r,t===G&&(t=ta,e.substr(ta,2)===An?(r=An,ta+=2):(r=G,0===sa&&s(wn)),r!==G&&(ra=t,r=mn()),t=r,t===G&&(t=ta,39===e.charCodeAt(ta)?(r=cn,ta++):(r=G,0===sa&&s(ln)),r!==G&&(ra=t,r=En()),t=r,t===G&&(t=ta,e.substr(ta,2)===Pn?(r=Pn,ta+=2):(r=G,0===sa&&s(Cn)),r!==G&&(ra=t,r=Nn()),t=r,t===G&&(t=ta,e.substr(ta,2)===jn?(r=jn,ta+=2):(r=G,0===sa&&s(Tn)),r!==G&&(ra=t,r=_n()),t=r,t===G&&(t=ta,e.substr(ta,2)===qn?(r=qn,ta+=2):(r=G,0===sa&&s(Sn)),r!==G&&(ra=t,r=On()),t=r,t===G&&(t=ta,e.substr(ta,2)===kn?(r=kn,ta+=2):(r=G,0===sa&&s(Ln)),r!==G&&(ra=t,r=Bn()),t=r,t===G&&(t=ta,e.substr(ta,2)===Fn?(r=Fn,ta+=2):(r=G,0===sa&&s(Rn)),r!==G&&(ra=t,r=Qn()),t=r,t===G&&(t=ta,e.substr(ta,2)===Mn?(r=Mn,ta+=2):(r=G,0===sa&&s(Vn)),r!==G&&(ra=t,r=zn()),t=r,t===G&&(t=ta,e.substr(ta,2)===Un?(r=Un,ta+=2):(r=G,0===sa&&s(In)),r!==G&&(ra=t,r=Zn()),t=r,t===G&&(t=ta,e.substr(ta,2)===Dn?(r=Dn,ta+=2):(r=G,0===sa&&s($n)),r!==G?(n=ta,i=ta,Gn.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(Hn)),a!==G?(Gn.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Hn)),u!==G?(a=[a,u],i=a):(ta=i,i=K)):(ta=i,i=K),i!==G&&(i=e.substring(n,ta)),n=i,n!==G?(ra=t,r=Jn(n),t=r):(ta=t,t=K)):(ta=t,t=K),t===G&&(t=ta,e.substr(ta,2)===Kn?(r=Kn,ta+=2):(r=G,0===sa&&s(Wn)),r!==G?(n=ta,i=ta,Gn.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(Hn)),a!==G?(Gn.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Hn)),u!==G?(Gn.test(e.charAt(ta))?(o=e.charAt(ta),ta++):(o=G,0===sa&&s(Hn)),o!==G?(Gn.test(e.charAt(ta))?(c=e.charAt(ta),ta++):(c=G,0===sa&&s(Hn)),c!==G?(a=[a,u,o,c],i=a):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K)):(ta=i,i=K),i!==G&&(i=e.substring(n,ta)),n=i,n!==G?(ra=t,r=Jn(n),t=r):(ta=t,t=K)):(ta=t,t=K)))))))))))),sa--,t===G&&(r=G,0===sa&&s(bn)),oa[l]={nextPos:ta,result:t},t)}function Q(){var t,r,n,i,a,u=36*ta+29,o=oa[u];if(o)return ta=o.nextPos,o.result;if(sa++,t=ta,47===e.charCodeAt(ta)?(r=st,ta++):(r=G,0===sa&&s(ot)),r!==G){for(n=ta,i=[],e.substr(ta,2)===Yn?(a=Yn,ta+=2):(a=G,0===sa&&s(ei)),a===G&&(ti.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(ri)));a!==G;)i.push(a),e.substr(ta,2)===Yn?(a=Yn,ta+=2):(a=G,0===sa&&s(ei)),a===G&&(ti.test(e.charAt(ta))?(a=e.charAt(ta),ta++):(a=G,0===sa&&s(ri)));i!==G&&(i=e.substring(n,ta)),n=i,n!==G?(47===e.charCodeAt(ta)?(i=st,ta++):(i=G,0===sa&&s(ot)),i!==G?(ra=t,r=ni(n),t=r):(ta=t,t=K)):(ta=t,t=K)}else ta=t,t=K;return sa--,t===G&&(r=G,0===sa&&s(Xn)),oa[u]={nextPos:ta,result:t},t}function M(){var t,r,n,i,a,u,o,c,l,f,p,h,d=36*ta+30,v=oa[d];
if(v)return ta=v.nextPos,v.result;if(sa++,t=ta,r=ta,ai.test(e.charAt(ta))?(n=e.charAt(ta),ta++):(n=G,0===sa&&s(ui)),n===G&&(n=rt),n!==G&&(n=e.substring(r,ta)),r=n,r!==G)if(e.substr(ta,2)===si?(n=si,ta+=2):(n=G,0===sa&&s(oi)),n!==G){if(i=ta,a=[],ci.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(li)),u!==G)for(;u!==G;)a.push(u),ci.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(li));else a=K;a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(ra=t,r=fi(r,i),t=r):(ta=t,t=K)}else ta=t,t=K;else ta=t,t=K;if(t===G){if(t=ta,r=ta,ai.test(e.charAt(ta))?(n=e.charAt(ta),ta++):(n=G,0===sa&&s(ui)),n===G&&(n=rt),n!==G&&(n=e.substring(r,ta)),r=n,r!==G)if(e.substr(ta,2)===pi?(n=pi,ta+=2):(n=G,0===sa&&s(hi)),n!==G){if(i=ta,a=[],di.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(vi)),u!==G)for(;u!==G;)a.push(u),di.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(vi));else a=K;a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(ra=t,r=bi(r,i),t=r):(ta=t,t=K)}else ta=t,t=K;else ta=t,t=K;if(t===G){if(t=ta,r=ta,ai.test(e.charAt(ta))?(n=e.charAt(ta),ta++):(n=G,0===sa&&s(ui)),n===G&&(n=rt),n!==G&&(n=e.substring(r,ta)),r=n,r!==G)if(e.substr(ta,2)===gi?(n=gi,ta+=2):(n=G,0===sa&&s(xi)),n!==G){if(i=ta,a=[],Gn.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Hn)),u!==G)for(;u!==G;)a.push(u),Gn.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Hn));else a=K;a!==G&&(a=e.substring(i,ta)),i=a,i!==G?(ra=t,r=yi(r,i),t=r):(ta=t,t=K)}else ta=t,t=K;else ta=t,t=K;if(t===G){if(t=ta,r=ta,n=ta,ai.test(e.charAt(ta))?(i=e.charAt(ta),ta++):(i=G,0===sa&&s(ui)),i===G&&(i=rt),i!==G){for(a=[],Ai.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(wi));u!==G;)a.push(u),Ai.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(wi));if(a!==G)if(46===e.charCodeAt(ta)?(u=mi,ta++):(u=G,0===sa&&s(Ei)),u!==G){if(o=[],Ai.test(e.charAt(ta))?(c=e.charAt(ta),ta++):(c=G,0===sa&&s(wi)),c!==G)for(;c!==G;)o.push(c),Ai.test(e.charAt(ta))?(c=e.charAt(ta),ta++):(c=G,0===sa&&s(wi));else o=K;if(o!==G){if(c=ta,Pi.test(e.charAt(ta))?(l=e.charAt(ta),ta++):(l=G,0===sa&&s(Ci)),l!==G)if(ai.test(e.charAt(ta))?(f=e.charAt(ta),ta++):(f=G,0===sa&&s(ui)),f===G&&(f=rt),f!==G){if(p=[],Ai.test(e.charAt(ta))?(h=e.charAt(ta),ta++):(h=G,0===sa&&s(wi)),h!==G)for(;h!==G;)p.push(h),Ai.test(e.charAt(ta))?(h=e.charAt(ta),ta++):(h=G,0===sa&&s(wi));else p=K;p!==G?(l=[l,f,p],c=l):(ta=c,c=K)}else ta=c,c=K;else ta=c,c=K;c===G&&(c=rt),c!==G?(i=[i,a,u,o,c],n=i):(ta=n,n=K)}else ta=n,n=K}else ta=n,n=K;else ta=n,n=K}else ta=n,n=K;if(n!==G&&(n=e.substring(r,ta)),r=n,r!==G&&(ra=t,r=Ni(r)),t=r,t===G){if(t=ta,r=ta,n=ta,ai.test(e.charAt(ta))?(i=e.charAt(ta),ta++):(i=G,0===sa&&s(ui)),i===G&&(i=rt),i!==G){if(a=[],Ai.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(wi)),u!==G)for(;u!==G;)a.push(u),Ai.test(e.charAt(ta))?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(wi));else a=K;a!==G?(i=[i,a],n=i):(ta=n,n=K)}else ta=n,n=K;n!==G&&(n=e.substring(r,ta)),r=n,r!==G&&(ra=t,r=ji(r)),t=r}}}}return sa--,t===G&&(r=G,0===sa&&s(ii)),oa[d]={nextPos:ta,result:t},t}function V(){var t,r,n=36*ta+31,i=oa[n];return i?(ta=i.nextPos,i.result):(sa++,t=ta,e.substr(ta,4)===_i?(r=_i,ta+=4):(r=G,0===sa&&s(qi)),r!==G&&(ra=t,r=Si()),t=r,t===G&&(t=ta,e.substr(ta,5)===Oi?(r=Oi,ta+=5):(r=G,0===sa&&s(ki)),r!==G&&(ra=t,r=Li()),t=r,t===G&&(t=ta,e.substr(ta,4)===Bi?(r=Bi,ta+=4):(r=G,0===sa&&s(Fi)),r!==G&&(ra=t,r=Ri()),t=r,t===G&&(t=ta,e.substr(ta,3)===Qi?(r=Qi,ta+=3):(r=G,0===sa&&s(Mi)),r!==G&&(ra=t,r=Vi()),t=r,t===G&&(t=ta,e.substr(ta,9)===zi?(r=zi,ta+=9):(r=G,0===sa&&s(Ui)),r!==G&&(ra=t,r=Ii()),t=r)))),sa--,t===G&&(r=G,0===sa&&s(Ti)),oa[n]={nextPos:ta,result:t},t)}function z(){var e,t,r=36*ta+32,n=oa[r];if(n)return ta=n.nextPos,n.result;for(sa++,e=[],t=U(),t===G&&(t=I());t!==G;)e.push(t),t=U(),t===G&&(t=I());return sa--,e===G&&(t=G,0===sa&&s(Zi)),oa[r]={nextPos:ta,result:e},e}function U(){var t,r,n,i,a,u,o=36*ta+33,c=oa[o];if(c)return ta=c.nextPos,c.result;if(sa++,t=ta,e.substr(ta,2)===$i?(r=$i,ta+=2):(r=G,0===sa&&s(Gi)),r!==G){for(n=[],i=ta,a=ta,sa++,e.substr(ta,2)===Hi?(u=Hi,ta+=2):(u=G,0===sa&&s(Ji)),sa--,u===G?a=Kr:(ta=a,a=K),a!==G?(e.length>ta?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Ki)),u!==G?(a=[a,u],i=a):(ta=i,i=K)):(ta=i,i=K);i!==G;)n.push(i),i=ta,a=ta,sa++,e.substr(ta,2)===Hi?(u=Hi,ta+=2):(u=G,0===sa&&s(Ji)),sa--,u===G?a=Kr:(ta=a,a=K),a!==G?(e.length>ta?(u=e.charAt(ta),ta++):(u=G,0===sa&&s(Ki)),u!==G?(a=[a,u],i=a):(ta=i,i=K)):(ta=i,i=K);n!==G?(e.substr(ta,2)===Hi?(i=Hi,ta+=2):(i=G,0===sa&&s(Ji)),i!==G?(r=[r,n,i],t=r):(ta=t,t=K)):(ta=t,t=K)}else ta=t,t=K;return sa--,t===G&&(r=G,0===sa&&s(Di)),oa[o]={nextPos:ta,result:t},t}function I(){var t,r,n=36*ta+34,i=oa[n];if(i)return ta=i.nextPos,i.result;if(sa++,t=[],Xi.test(e.charAt(ta))?(r=e.charAt(ta),ta++):(r=G,0===sa&&s(Yi)),r!==G)for(;r!==G;)t.push(r),Xi.test(e.charAt(ta))?(r=e.charAt(ta),ta++):(r=G,0===sa&&s(Yi));else t=K;return sa--,t===G&&(r=G,0===sa&&s(Wi)),oa[n]={nextPos:ta,result:t},t}function Z(){var t,r,n=36*ta+35,i=oa[n];return i?(ta=i.nextPos,i.result):(sa++,t=ta,sa++,e.length>ta?(r=e.charAt(ta),ta++):(r=G,0===sa&&s(Ki)),sa--,r===G?t=Kr:(ta=t,t=K),sa--,t===G&&(r=G,0===sa&&s(ea)),oa[n]={nextPos:ta,result:t},t)}var D,$=arguments.length>1?arguments[1]:{},G={},H={query:c},J=c,K=G,W=function(e){return e},X=",",Y={type:"literal",value:",",description:'","'},et=function(e,t){return la("Query").add(ca(e,t,3))},tt=function(e,t){return la("Path").add(ca(e,t,1))},rt=null,nt=function(e,t,r){return la("Step").add(e,t,r)},it={type:"other",description:"axis"},at="//",ut={type:"literal",value:"//",description:'"//"'},st="/",ot={type:"literal",value:"/",description:'"/"'},ct="+//",lt={type:"literal",value:"+//",description:'"+//"'},ft="+/",pt={type:"literal",value:"+/",description:'"+/"'},ht="-//",dt={type:"literal",value:"-//",description:'"-//"'},vt="-/",bt={type:"literal",value:"-/",description:'"-/"'},gt="..//",xt={type:"literal",value:"..//",description:'"..//"'},yt="../",At={type:"literal",value:"../",description:'"../"'},wt=function(e){return la("Axis").set({op:e})},mt=function(e){return la("Match").merge(e)},Et="*",Pt={type:"literal",value:"*",description:'"*"'},Ct=function(){return la("Match").set({id:"*"})},Nt="[",jt={type:"literal",value:"[",description:'"["'},Tt="]",_t={type:"literal",value:"]",description:'"]"'},qt=function(e){return la("Filter").add(e)},St="?:",Ot={type:"literal",value:"?:",description:'"?:"'},kt=function(e,t){return la("ConditionalBinary").add(e,t)},Lt="?",Bt={type:"literal",value:"?",description:'"?"'},Ft=":",Rt={type:"literal",value:":",description:'":"'},Qt=function(e,t,r){return la("ConditionalTernary").add(e,t,r)},Mt="||",Vt={type:"literal",value:"||",description:'"||"'},zt=function(e,t,r){return la("Logical").set({op:t}).add(e,r)},Ut="&&",It={type:"literal",value:"&&",description:'"&&"'},Zt="|",Dt={type:"literal",value:"|",description:'"|"'},$t=function(e,t,r){return la("Bitwise").set({op:t}).add(e,r)},Gt="^",Ht={type:"literal",value:"^",description:'"^"'},Jt="&",Kt={type:"literal",value:"&",description:'"&"'},Wt="==",Xt={type:"literal",value:"==",description:'"=="'},Yt="!=",er={type:"literal",value:"!=",description:'"!="'},tr="<=",rr={type:"literal",value:"<=",description:'"<="'},nr=">=",ir={type:"literal",value:">=",description:'">="'},ar="<",ur={type:"literal",value:"<",description:'"<"'},sr=">",or={type:"literal",value:">",description:'">"'},cr="=~",lr={type:"literal",value:"=~",description:'"=~"'},fr="!~",pr={type:"literal",value:"!~",description:'"!~"'},hr=function(e,t,r){return la("Relational").set({op:t}).add(e,r)},dr="<<",vr={type:"literal",value:"<<",description:'"<<"'},br=">>",gr={type:"literal",value:">>",description:'">>"'},xr="+",yr={type:"literal",value:"+",description:'"+"'},Ar="-",wr={type:"literal",value:"-",description:'"-"'},mr=function(e,t,r){return la("Arithmetical").set({op:t}).add(e,r)},Er="**",Pr={type:"literal",value:"**",description:'"**"'},Cr="%",Nr={type:"literal",value:"%",description:'"%"'},jr="!",Tr={type:"literal",value:"!",description:'"!"'},_r="~",qr={type:"literal",value:"~",description:'"~"'},Sr=function(e,t){return la("Unary").set({op:e}).add(t)},Or="(",kr={type:"literal",value:"(",description:'"("'},Lr=")",Br={type:"literal",value:")",description:'")"'},Fr=function(e,t){return la("FuncCall").merge(e).add(t)},Rr=function(e,t){return ca(e,t,3)},Qr={type:"other",description:"node attribute"},Mr="@",Vr={type:"literal",value:"@",description:'"@"'},zr=function(e){return la("Attribute").merge(e)},Ur={type:"other",description:"query parameter reference"},Ir="{",Zr={type:"literal",value:"{",description:'"{"'},Dr="}",$r={type:"literal",value:"}",description:'"}"'},Gr=function(e){return la("Param").merge(e)},Hr=function(e){return e},Jr={type:"other",description:"identifier"},Kr=void 0,Wr=/^[a-zA-Z_]/,Xr={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},Yr=/^[a-zA-Z0-9_\-]/,en={type:"class",value:"[a-zA-Z0-9_\\-]",description:"[a-zA-Z0-9_\\-]"},tn=function(e){return la("Identifier").set({id:e})},rn={type:"other",description:"quoted string literal"},nn='"',an={type:"literal",value:'"',description:'"\\""'},un=/^[^"]/,sn={type:"class",value:'[^"]',description:'[^"]'},on=function(e){return la("LiteralString").set({value:e.join("")})},cn="'",ln={type:"literal",value:"'",description:'"\'"'},fn="\\'",pn={type:"literal",value:"\\'",description:'"\\\\\'"'},hn=/^[^']/,dn={type:"class",value:"[^']",description:"[^']"},vn=function(e){return la("LiteralString").set({value:e.replace(/\\'/g,"'")})},bn={type:"other",description:"escaped string character"},gn="\\\\",xn={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},yn=function(){return"\\"},An='\\"',wn={type:"literal",value:'\\"',description:'"\\\\\\""'},mn=function(){return'"'},En=function(){return"'"},Pn="\\b",Cn={type:"literal",value:"\\b",description:'"\\\\b"'},Nn=function(){return"\b"},jn="\\v",Tn={type:"literal",value:"\\v",description:'"\\\\v"'},_n=function(){return""},qn="\\f",Sn={type:"literal",value:"\\f",description:'"\\\\f"'},On=function(){return"\f"},kn="\\t",Ln={type:"literal",value:"\\t",description:'"\\\\t"'},Bn=function(){return"	"},Fn="\\r",Rn={type:"literal",value:"\\r",description:'"\\\\r"'},Qn=function(){return"\r"},Mn="\\n",Vn={type:"literal",value:"\\n",description:'"\\\\n"'},zn=function(){return"\n"},Un="\\e",In={type:"literal",value:"\\e",description:'"\\\\e"'},Zn=function(){return""},Dn="\\x",$n={type:"literal",value:"\\x",description:'"\\\\x"'},Gn=/^[0-9a-fA-F]/,Hn={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Jn=function(e){return String.fromCharCode(parseInt(e,16))},Kn="\\u",Wn={type:"literal",value:"\\u",description:'"\\\\u"'},Xn={type:"other",description:"regular expression literal"},Yn="\\/",ei={type:"literal",value:"\\/",description:'"\\\\/"'},ti=/^[^\/]/,ri={type:"class",value:"[^\\/]",description:"[^\\/]"},ni=function(e){var t;try{t=new RegExp(e.replace(/\\\//g,"/"))}catch(r){a(r.message)}return la("LiteralRegExp").set({value:t})},ii={type:"other",description:"numeric literal"},ai=/^[+\-]/,ui={type:"class",value:"[+\\-]",description:"[+\\-]"},si="0b",oi={type:"literal",value:"0b",description:'"0b"'},ci=/^[01]/,li={type:"class",value:"[01]",description:"[01]"},fi=function(e,t){return la("LiteralNumber").set({value:parseInt(e+t,2)})},pi="0o",hi={type:"literal",value:"0o",description:'"0o"'},di=/^[0-7]/,vi={type:"class",value:"[0-7]",description:"[0-7]"},bi=function(e,t){return la("LiteralNumber").set({value:parseInt(e+t,8)})},gi="0x",xi={type:"literal",value:"0x",description:'"0x"'},yi=function(e,t){return la("LiteralNumber").set({value:parseInt(e+t,16)})},Ai=/^[0-9]/,wi={type:"class",value:"[0-9]",description:"[0-9]"},mi=".",Ei={type:"literal",value:".",description:'"."'},Pi=/^[eE]/,Ci={type:"class",value:"[eE]",description:"[eE]"},Ni=function(e){return la("LiteralNumber").set({value:parseFloat(e)})},ji=function(e){return la("LiteralNumber").set({value:parseInt(e,10)})},Ti={type:"other",description:"global value"},_i="true",qi={type:"literal",value:"true",description:'"true"'},Si=function(){return la("LiteralValue").set({value:!0})},Oi="false",ki={type:"literal",value:"false",description:'"false"'},Li=function(){return la("LiteralValue").set({value:!1})},Bi="null",Fi={type:"literal",value:"null",description:'"null"'},Ri=function(){return la("LiteralValue").set({value:null})},Qi="NaN",Mi={type:"literal",value:"NaN",description:'"NaN"'},Vi=function(){return la("LiteralValue").set({value:0/0})},zi="undefined",Ui={type:"literal",value:"undefined",description:'"undefined"'},Ii=function(){return la("LiteralValue").set({value:void 0})},Zi={type:"other",description:"optional blank"},Di={type:"other",description:"multi-line comment"},$i="/*",Gi={type:"literal",value:"/*",description:'"/*"'},Hi="*/",Ji={type:"literal",value:"*/",description:'"*/"'},Ki={type:"any",description:"any character"},Wi={type:"other",description:"any whitespaces"},Xi=/^[ \t\r\n]/,Yi={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},ea={type:"other",description:"end of file"},ta=0,ra=0,na=0,ia={line:1,column:1,seenCR:!1},aa=0,ua=[],sa=0,oa={};if("startRule"in $){if(!($.startRule in H))throw new Error("Can't start parsing from rule \""+$.startRule+'".');J=H[$.startRule]}var ca=$.util.makeUnroll(n,i,r,t),la=$.util.makeAST(n,i,r,$);if(D=J(),D!==G&&ta===e.length)return D;throw D!==G&&ta<e.length&&s({type:"end",description:"end of input"}),o(null,ua,aa)}return e(t,Error),{SyntaxError:t,parse:r}}(),o=r(e("./astq-query-exec.js")),c=function(){function e(t){i(this,e),this.asty=new a,this.ast=null,t&&this.compile(t)}return n(e,null,{compile:{value:function(e,t){var r=this;t&&console.log("ASTQ: compile: +-------------------------------------------------------------------------------------------------------\nASTQ: compile: | "+e);var n=u.parse(s,e,{startRule:"query",makeAST:function(e,t,n,i){return r.asty.create.apply(r.asty,i).pos(e,t,n)}});if(null!==n.error)throw new Error("ASTQ: compile: query parsing failed:\n"+u.errorMessage(n.error,!0).replace(/^/gm,"ERROR: "));return this.ast=n.ast,t&&console.log("ASTQ: compile: +-------------------------------------------------------------------------------------------------------\n"+this.dump().replace(/\n$/,"").replace(/^/gm,"ASTQ: compile: | ")),this},writable:!0,configurable:!0},dump:{value:function(){return this.ast.dump()},writable:!0,configurable:!0},execute:{value:function(e,t,r,n,i){i&&console.log("ASTQ: execute: +--------------------------------------------------------------+----------------------------------------");var a=new o(t,r,n,i);return a.execQuery(this.ast,e)},writable:!0,configurable:!0}}),e}();t.exports=c},{"./astq-query-exec.js":7,asty:"asty","pegjs-util":"pegjs-util"}],10:[function(e,t){"use strict";var r=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){n(this,e)}return r(e,{pad:{value:function t(e,r){var n=0>r?-r:r;if(e.length>n)e=e.substr(0,n);else{var t=Array(n+1-e.length).join(" ");e=0>r?e+t:t+e}return e},writable:!0,configurable:!0},truthy:{value:function(e){var t=void 0;switch(typeof e){case"boolean":t=e;break;case"number":t=0!==e&&!isNaN(e);break;case"string":t=""!==e;break;case"object":t=!1,null!==e&&(t=!0,e instanceof Array&&(t=e.length>0));break;default:t=!1}return t},writable:!0,configurable:!0},coerce:{value:function(e,t){if(typeof e!==t)try{switch(t){case"boolean":e=Boolean(e);break;case"number":e=Number(e);break;case"string":e=String(e);break;case"regexp":e=new RegExp(e)}}catch(r){throw new Error("cannot coerce value into type "+t)}return e},writable:!0,configurable:!0}}),e}();t.exports=i},{}],11:[function(e,t){"use strict";var r={major:1,minor:2,micro:8,date:20150302};t.exports=r},{}],12:[function(e,t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},n=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=e("cache-lru"),u=r(e("./astq-adapter.js")),s=r(e("./astq-adapter-asty.js")),o=r(e("./astq-adapter-mozast.js")),c=r(e("./astq-adapter-xmldom.js")),l=r(e("./astq-funcs.js")),f=r(e("./astq-funcs-std.js")),p=r(e("./astq-query.js")),h=r(e("./astq-version.js")),d=function(){function e(){i(this,e),this._adapter=new u,this._adapter.register(o),this._adapter.register(c),this._adapter.register(s),this._funcs=new l;for(var t in f)this.func(t,f[t]);this._cache=new a}return n(e,null,{version:{value:function(){return h},writable:!0,configurable:!0},adapter:{value:function t(t){if(1!==arguments.length)throw new Error("ASTQ#adapter: invalid number of arguments");return this._adapter.unregister(),this._adapter.register(t),this},writable:!0,configurable:!0},func:{value:function r(e,r){if(2!==arguments.length)throw new Error("ASTQ#func: invalid number of arguments");return this._funcs.register(e,r),this},writable:!0,configurable:!0},cache:{value:function(e){if(1!==arguments.length)throw new Error("ASTQ#cache: invalid number of arguments");return this._cache.limit(e),this},writable:!0,configurable:!0},compile:{value:function(e,t){if(arguments.length<1)throw new Error("ASTQ#compile: too less arguments");if(arguments.length>2)throw new Error("ASTQ#compile: too many arguments");void 0===t&&(t=!1);var r=this._cache.get(e);return void 0===r&&(r=new p,r.compile(e,t),this._cache.set(e,r)),r},writable:!0,configurable:!0},execute:{value:function(e,t,r,n){if(arguments.length<2)throw new Error("ASTQ#execute: too less arguments");if(arguments.length>4)throw new Error("ASTQ#execute: too many arguments");void 0===r&&(r={}),void 0===n&&(n=!1);var i=this._adapter.select(e);if(void 0===i)throw new Error("ASTQ#execute: no suitable adapter found for node");return t.execute(e,i,r,this._funcs,n)},writable:!0,configurable:!0},query:{value:function(e,t,r,n){if(arguments.length<2)throw new Error("ASTQ#query: too less arguments");if(arguments.length>4)throw new Error("ASTQ#query: too many arguments");return void 0===r&&(r={}),void 0===n&&(n=!1),this.execute(e,this.compile(t,n),r,n)},writable:!0,configurable:!0}}),e}();t.exports=d},{"./astq-adapter-asty.js":1,"./astq-adapter-mozast.js":2,"./astq-adapter-xmldom.js":3,"./astq-adapter.js":4,"./astq-funcs-std.js":5,"./astq-funcs.js":6,"./astq-query.js":9,"./astq-version.js":11,"cache-lru":"cache-lru"}]},{},[1,2,3,4,5,6,7,8,9,10,11,12])(12)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(_dereq_,module,exports){
(function (global){
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ASTY=t()}}(function(){return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var f="function"==typeof _dereq_&&_dereq_;if(!u&&f)return f(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){"use strict";var n=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(){r(this,t)}return n(t,null,{init:{value:function(t,e,n){if("undefined"==typeof t)throw new Error("init: invalid argument");if(this.ASTy=!0,this.T=t,this.L={L:0,C:0,O:0},this.A={},this.C=[],this.P=null,"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r]);return"object"==typeof n&&n instanceof Array&&this.add(n),this},writable:!0,configurable:!0},type:{value:function(t){if(0===arguments.length)return this.T;if(1===arguments.length)return this.T=t,this;throw new Error("type: invalid number of arguments")},writable:!0,configurable:!0},pos:{value:function(t,e,n){if(0===arguments.length)return this.L;if(arguments.length<=3)return this.L.L=t||0,this.L.C=e||0,this.L.O=n||0,this;throw new Error("pos: invalid number of arguments")},writable:!0,configurable:!0},set:{value:function(){var t=this,e=arguments;if(1===arguments.length&&"object"==typeof arguments[0])!function(){var n=e;Object.keys(n[0]).forEach(function(e){t.A[e]=n[0][e]})}();else{if(2!==arguments.length)throw new Error("set: invalid arguments");this.A[arguments[0]]=arguments[1]}return this},writable:!0,configurable:!0},get:{value:function(t){if(1!==arguments.length)throw new Error("get: invalid number of arguments");if("string"!=typeof t)throw new Error("get: invalid argument");return this.A[t]},writable:!0,configurable:!0},attrs:{value:function(){return Object.keys(this.A)},writable:!0,configurable:!0},add:{value:function(){var t=this;if(0===arguments.length)throw new Error("add: missing argument(s)");var e=function(t,e){if(!("object"==typeof e&&"string"==typeof e.T&&"object"==typeof e.L&&"object"==typeof e.A&&"object"==typeof e.P&&"object"==typeof e.C&&e.C instanceof Array))throw new Error("add: invalid AST node: "+JSON.stringify(e));t.C.push(e),e.P=t};return null!==arguments&&Array.prototype.slice.call(arguments,0).forEach(function(n){"object"==typeof n&&n instanceof Array?n.forEach(function(n){e(t,n)}):null!==n&&e(t,n)}),this},writable:!0,configurable:!0},del:{value:function(){var t=this;if(0===arguments.length)throw new Error("del: invalid argument");return Array.prototype.slice.call(arguments,0).forEach(function(e){for(var n=!1,r=0;r<t.C.length;r++)if(t.C[r]===e){t.C.splice(r,1),e.P=null,n=!0;break}if(!n)throw new Error("del: child not found")}),this},writable:!0,configurable:!0},childs:{value:function(){return this.C},writable:!0,configurable:!0},parent:{value:function(){return this.P},writable:!0,configurable:!0}}),t}();e.exports=i},{}],2:[function(t,e){"use strict";var n=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(){r(this,t)}return n(t,null,{dump:{value:function(t){void 0===t&&(t=1/0);var e="";return this.walk(function(n,r){if(!(r>t)){for(var i=0;r>i;i++)e+="    ";e+=n.T+" ";var o=Object.keys(n.A);o.length>0&&!function(){e+="(";var t=!0;o.forEach(function(r){t?t=!1:e+=", ",e+=r+": ";var i=n.A[r];switch(typeof i){case"string":e+='"'+i.replace(/\n/,"\\n").replace(/"/,'\\"')+'"';break;case"object":e+=i instanceof RegExp?"/"+i.toString().replace(/^\//,"").replace(/\/$/,"").replace(/\//g,"\\/")+"/":JSON.stringify(i);break;default:e+=JSON.stringify(i)}}),e+=") "}(),e+="["+n.L.L+"/"+n.L.C+"]\n"}},"downward"),e},writable:!0,configurable:!0}}),t}();e.exports=i},{}],3:[function(t,e){"use strict";var n=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(){r(this,t)}return n(t,null,{merge:{value:function(t,e,n){var r=this;if("object"!=typeof t)throw new Error("merge: invalid AST node argument");if("undefined"==typeof e&&(e=!1),"undefined"==typeof n&&(n={}),e){var i=t.pos();this.pos(i.L,i.C,i.O)}return t.attrs().forEach(function(e){var i="undefined"!=typeof n[e]?n[e]:e;null!==i&&r.set(i,t.get(e))}),t.childs().forEach(function(t){r.add(t)}),this},writable:!0,configurable:!0}}),t}();e.exports=i},{}],4:[function(t,e){"use strict";var n={major:1,minor:0,micro:8,date:20150301};e.exports=n},{}],5:[function(t,e){"use strict";var n=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(){r(this,t)}return n(t,null,{walk:{value:function(t,e){"undefined"==typeof e&&(e="downward");var n=function(r,i,o){("downward"===e||"both"===e)&&t.call(null,r,i,o,"downward"),r.C.forEach(function(t){n(t,i+1,r)}),("upward"===e||"both"===e)&&t.call(null,r,i,o,"upward")};return n(this,0,null),this},writable:!0,configurable:!0}}),t}();e.exports=i},{}],6:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=n(t("./asty-base.js")),a=n(t("./asty-merge.js")),u=n(t("./asty-walk.js")),f=n(t("./asty-dump.js")),s=n(t("./asty-version.js")),c=function(){function t(){var e=this;i(this,t),this.ASTYNode=function(){};var n=[[o,"init","type","pos","set","get","attrs","add","del","childs","parent"],[a,"merge"],[u,"walk"],[f,"dump"]];return n.forEach(function(t){var n=t[0].prototype;t.slice(1).forEach(function(t){e.ASTYNode.prototype[t]=n[t]})}),this}return r(t,null,{version:{value:function(){return s},writable:!0,configurable:!0},extend:{value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.ASTYNode.prototype[e]=t[e]);return this},writable:!0,configurable:!0},create:{value:function(t){return(new this.ASTYNode).init(t)},writable:!0,configurable:!0},isA:{value:function(t){return"object"==typeof t&&t instanceof this.ASTYNode&&"boolean"==typeof t.ASTy&&t.ASTy===!0},writable:!0,configurable:!0}}),t}();e.exports=c},{"./asty-base.js":1,"./asty-dump.js":2,"./asty-merge.js":3,"./asty-version.js":4,"./asty-walk.js":5}]},{},[1,2,3,4,5,6])(6)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(_dereq_,module,exports){
"use strict";var _get=function e(t,r,n){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o&&o.writable)return o.value;var u=o.get;return void 0===u?void 0:u.call(n)},_inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},_prototypeProperties=function(e,t,r){t&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r)},_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ASTY=_dereq_("asty"),ASTQ=_dereq_("astq"),ASTQAdapter=function(){function e(){_classCallCheck(this,e)}return _prototypeProperties(e,null,{taste:{value:function(){return!0},writable:!0,configurable:!0},getParentNode:{value:function(e){return e.parent()},writable:!0,configurable:!0},getChildNodes:{value:function(e){return e.childs()},writable:!0,configurable:!0},getNodeType:{value:function(e){return e.type()},writable:!0,configurable:!0},getNodeAttrNames:{value:function(e){return e.attrs()},writable:!0,configurable:!0},getNodeAttrValue:{value:function(e,t){return e.get(t)},writable:!0,configurable:!0}}),e}(),ASTYASTQ=function(e){function t(){if(_classCallCheck(this,t),!(this instanceof t))return new t;_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var e=new ASTQ;return e.adapter(new ASTQAdapter),this.extend({query:function(t,r,n){return e.query(this,t,r,n)}}),this}return _inherits(t,e),t}(ASTY);module.exports=ASTYASTQ;
},{"astq":1,"asty":2}]},{},[3])(3)
});


//# sourceMappingURL=asty-astq.browser.map