/*
**  ASTy-ASTq -- Abstract Syntax Tree With Integrated Query Engine
**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ASTYASTQ = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ASTQ=e()}}(function(){return function e(t,r,n){function u(o,i){if(!r[o]){if(!t[o]){var s="function"==typeof _dereq_&&_dereq_;if(!i&&s)return s(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return u(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)u(n[o]);return u}({1:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,null,[{key:"taste",value:function(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&"boolean"==typeof e.ASTy}},{key:"getParentNode",value:function(e){return e.parent()}},{key:"getChildNodes",value:function(e){return e.childs()}},{key:"getNodeType",value:function(e){return e.type()}},{key:"getNodeAttrNames",value:function(e){return e.attrs()}},{key:"getNodeAttrValue",value:function(e,t){return e.get(t)}}]),e}();r.default=o},{}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,null,[{key:"taste",value:function(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&null!==e&&"string"==typeof e.type&&""!==e.type}},{key:"getParentNode",value:function(e,t){if("*"!==t&&"parent"!==t)throw new Error('no such axis named "'+t+'" for walking to parent nodes');if("undefined"!=typeof e.parent)return e.parent;throw new Error("Your Mozilla SpiderMonkey AST does not support parent node traversal")}},{key:"getChildNodes",value:function(e,t){var r=this,n=[],a=function(e,t){e.hasOwnProperty(t)&&r.taste(e[t])?n.push(e[t]):e.hasOwnProperty(t)&&"object"===u(e[t])&&e[t]instanceof Array&&e[t].forEach(function(e){r.taste(e)&&n.push(e)})};if("*"===t)for(var o in e)a(e,o);else{if("undefined"==typeof e[t])throw new Error('no such axis named "'+t+'" for walking to child nodes');a(e,t)}return n}},{key:"getNodeType",value:function(e){return e.type}},{key:"getNodeAttrNames",value:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&"object"!==u(e[r])&&"type"!==r&&"loc"!==r&&t.push(r);return t}},{key:"getNodeAttrValue",value:function(e,t){return e.hasOwnProperty(t)&&"object"!==u(e[t])&&"type"!==t&&"loc"!==t?e[t]:void 0}}]),e}();r.default=o},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,null,[{key:"taste",value:function(e){return"object"===("undefined"==typeof Node?"undefined":u(Node))&&e instanceof Node&&"object"===("undefined"==typeof e?"undefined":u(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}},{key:"getParentNode",value:function(e){return e.parentNode}},{key:"getChildNodes",value:function(e){return e.childNodes}},{key:"getNodeType",value:function(e){return e.nodeName}},{key:"getNodeAttrNames",value:function(e){return Array.prototype.slice.call(e.attributes,0).map(function(e){return e.nodeName})}},{key:"getNodeAttrValue",value:function(e,t){return e.getAttribute(t)}}]),e}();r.default=o},{}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){return n(this,e),this._adapters=[],this}return u(e,[{key:"register",value:function(e){return this._adapters.unshift(e),this}},{key:"unregister",value:function(e){if(void 0===e)this._adapters=[];else{for(var t=[],r=0;r<this._adapters.length;r++)this._adapters[r]!==e&&t.push(this._adapters[r]);this._adapters=t}return this}},{key:"select",value:function(e){for(var t=0;t<this._adapters.length;t++)if(this._adapters[t].taste(e))return this._adapters[t]}}]),e}();r.default=a},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){var r=e.getParentNode(t,"*");if(null===r)return 1;for(var n=e.getChildNodes(r,"*"),u=0;u<n.length;u++)if(n[u]===t)return u+1;throw new Error("cannot find myself")},a=function e(t,r){for(var e=[];null!==(r=t.getParentNode(r,"*"));)e.push(r);return e},o={type:function(e,t){return e.getNodeType(t)},depth:function e(t,r){for(var e=1,n=r;null!==(n=t.getParentNode(n,"*"));)e++;return e},pos:function(e,t){return u(e,t)},nth:function(e,t,r){r=parseInt(r,10);var n=e.getParentNode(t,"*");if(null!==n){var u=e.getChildNodes(n,"*");r<0&&(r=u.length-(r+1));for(var a=0;a<u.length;a++)if(u[a]===t)return a+1===r;return!1}return 1===r},first:function(e,t){return o.nth(e,t,1)},last:function(e,t){return o.nth(e,t,-1)},count:function(e,t,r){return"object"===("undefined"==typeof r?"undefined":n(r))&&r instanceof Array?r.length:"object"===("undefined"==typeof r?"undefined":n(r))?Object.keys(r).length:"string"==typeof r?r.length:String(r).length},below:function(e,t,r){if(!e.taste(r))throw new Error('invalid argument to function "below" (node expected)');for(var n=t;null!==(n=e.getParentNode(n,"*"));)if(n===r)return!0;return!1},follows:function(e,t,r){if(!e.taste(r))throw new Error('invalid argument to function "follows" (node expected)');if(t===r)return!1;var n=[t].concat(a(e,t)).reverse(),o=[r].concat(a(e,r)).reverse(),i=Math.min(n.length,o.length),s=void 0;for(s=0;s<i&&n[s]===o[s];s++);if(0===s)throw new Error("internal error: root nodes have to be same same");return s===i?o.length<n.length:u(e,n[s])>u(e,o[s])},in:function(e,t,r){if(!("object"===("undefined"==typeof r?"undefined":n(r))&&r instanceof Array))throw new Error('invalid argument to function "in" (array expected)');for(var u=0;u<r.length;u++)if(r[u]===t)return!0;return!1},substr:function(e,t,r,n,u){return String(r).substr(n,u)},index:function(e,t,r,n,u){return String(r).indexOf(n,u)},trim:function(e,t,r){return String(r).trim()},lc:function(e,t,r){return String(r).toLowerCase()},uc:function(e,t,r){return String(r).toUpperCase()}};r.default=o},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){return n(this,e),this._funcs={},this}return u(e,[{key:"register",value:function(e,t){this._funcs[e]=t}},{key:"run",value:function(e,t){var r=this._funcs[e];if("function"!=typeof r)throw new Error('invalid function "'+e+'"');return r.apply(null,t)}}]),e}();r.default=a},{}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("./astq-util.js"),c=n(s),l=e("./astq-query-trace.js"),f=n(l),d=function(e){function t(e,r,n,o){u(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.adapter=e,i.params=r,i.funcs=n,i.trace=o,i}return o(t,e),i(t,[{key:"execQuery",value:function(e,t){var r=this;this.traceBegin(e,t);var n=[];return e.childs().forEach(function(e){n=n.concat(r.execPath(e,t))}),this.traceEnd(e,t,n),n}},{key:"execPath",value:function(e,t){var r=this;this.traceBegin(e,t);var n=[t],u=[],a=!1;return e.childs().forEach(function(e){var t=[];n.forEach(function(n){t=t.concat(r.execStep(e,n))}),n=t,e.get("isResult")&&(a=!0,u=u.concat(n))}),this.traceEnd(e,t,n),a?u:n}},{key:"execStep",value:function(e,t){var r=this;this.traceBegin(e,t);var n=e.childs(),u=null,a=null,o=null,i=0;if(i<n.length&&"Axis"===n[i].type()&&(u=n[i++]),i<n.length&&"Match"===n[i].type()&&(a=n[i++]),i<n.length&&"Filter"===n[i].type()&&(o=n[i++]),null===a)throw new Error("no matching part in query step");var s=[],c=a.get("id"),l=function(e){var t=r.adapter.getNodeType(e);if("*"===c||c===t){var n=!0;null!==o&&(r.execFilter(o,e)||(n=!1)),n&&s.push(e)}};return null!==u?!function(){var e=u.get("op"),n=u.get("type");if("/"===e)r.adapter.getChildNodes(t,n).forEach(function(e){return l(e)});else if("//"===e)!function(){var e=function e(t){l(t),r.adapter.getChildNodes(t,n).forEach(function(t){return e(t)})};r.adapter.getChildNodes(t,n).forEach(function(t){return e(t)})}();else if("-/"===e){var a=r.adapter.getParentNode(t,"*");if(null!==a){for(var o=r.adapter.getChildNodes(a,n),i=null,c=0;c<o.length&&o[c]!==t;c++)i=o[c];null!==i&&l(i)}}else if("-//"===e){var f=r.adapter.getParentNode(t,"*");if(null!==f){for(var d=r.adapter.getChildNodes(f,n),h=0;h<d.length&&d[h]!==t;h++);for(h--;h>=0;h--)l(d[h])}}else if("+/"===e){var p=r.adapter.getParentNode(t,"*");if(null!==p){var y=r.adapter.getChildNodes(p,n),v=void 0;for(v=0;v<y.length&&y[v]!==t;v++);v<y.length&&l(y[++v])}}else if("+//"===e){var b=r.adapter.getParentNode(t,"*");if(null!==b){var g=r.adapter.getChildNodes(b,n),x=void 0;for(x=0;x<g.length&&g[x]!==t;x++);if(x<g.length)for(x++;x<g.length;x++)l(g[x])}}else if("../"===e){var m=r.adapter.getParentNode(t,n);null!==m&&l(m)}else if("..//"===e)for(var A=t;;){var E=r.adapter.getParentNode(A,n);if(null===E)break;l(E),A=E}else"<//"===e?!function(){for(var e={sentinel:t,take:!0};;){var u=r.adapter.getParentNode(t,"*");if(null===u)break;t=u}var a=function t(u){u===e.sentinel&&(e.take=!1),e.take&&l(u),e.take&&r.adapter.getChildNodes(u,n).forEach(function(e){return t(e)})};t!==e.sentinel&&(l(t),r.adapter.getChildNodes(t,n).forEach(function(e){return a(e)})),s=s.reverse()}():">//"===e&&!function(){for(var e={sentinel:t,take:!1};;){var u=r.adapter.getParentNode(t,"*");if(null===u)break;t=u}var a=function t(u){e.take&&l(u),u===e.sentinel&&(e.take=!0),r.adapter.getChildNodes(u,n).forEach(function(e){return t(e)})};r.adapter.getChildNodes(t,n).forEach(function(e){return a(e)})}()}():l(t),this.traceEnd(e,t,s),s}},{key:"execFilter",value:function(e,t){this.traceBegin(e,t);var r=e.childs()[0],n=this.execExpr(r,t);return n=c.default.truthy(n),this.traceEnd(e,t,n),n}},{key:"execExpr",value:function(e,t){switch(e.type()){case"ConditionalBinary":return this.execExprConditionalBinary(e,t);case"ConditionalTernary":return this.execExprConditionalTernary(e,t);case"Logical":return this.execExprLogical(e,t);case"Bitwise":return this.execExprBitwise(e,t);case"Relational":return this.execExprRelational(e,t);case"Arithmetical":return this.execExprArithmetical(e,t);case"Unary":return this.execExprUnary(e,t);case"FuncCall":return this.execExprFuncCall(e,t);case"Attribute":return this.execExprAttribute(e,t);case"Param":return this.execExprParam(e,t);case"LiteralString":return this.execExprLiteralString(e,t);case"LiteralRegExp":return this.execExprLiteralRegExp(e,t);case"LiteralNumber":return this.execExprLiteralNumber(e,t);case"LiteralValue":return this.execExprLiteralValue(e,t);case"Path":return this.execExprPath(e,t)}}},{key:"execExprConditionalBinary",value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t);return c.default.truthy(r)||(r=this.execExpr(e.childs()[1],t)),this.traceEnd(e,t,r),r}},{key:"execExprConditionalTernary",value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t);return r=c.default.truthy(r)?this.execExpr(e.childs()[1],t):this.execExpr(e.childs()[2],t),this.traceEnd(e,t,r),r}},{key:"execExprLogical",value:function(e,t){this.traceBegin(e,t);var r=!1;switch(e.get("op")){case"&&":r=c.default.truthy(this.execExpr(e.childs()[0],t)),r&&(r=r&&c.default.truthy(this.execExpr(e.childs()[1],t)));break;case"||":r=c.default.truthy(this.execExpr(e.childs()[0],t)),r||(r=r||c.default.truthy(this.execExpr(e.childs()[1],t)))}return this.traceEnd(e,t,r),r}},{key:"execExprBitwise",value:function(e,t){this.traceBegin(e,t);var r=c.default.coerce(this.execExpr(e.childs()[0],t),"number"),n=c.default.coerce(this.execExpr(e.childs()[1],t),"number"),u=void 0;switch(e.get("op")){case"&":u=r&n;break;case"|":u=r|n;break;case"<<":u=r<<n;break;case">>":u=r>>n}return this.traceEnd(e,t,u),u}},{key:"execExprRelational",value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=this.execExpr(e.childs()[1],t),u=void 0;switch(e.get("op")){case"==":u=r===n;break;case"!=":u=r!==n;break;case"<=":u=c.default.coerce(r,"number")<=c.default.coerce(n,"number");break;case">=":u=c.default.coerce(r,"number")>=c.default.coerce(n,"number");break;case"<":u=c.default.coerce(r,"number")<c.default.coerce(n,"number");break;case">":u=c.default.coerce(r,"number")>c.default.coerce(n,"number");break;case"=~":u=null!==c.default.coerce(r,"string").match(c.default.coerce(n,"regexp"));break;case"!~":u=null===c.default.coerce(r,"string").match(c.default.coerce(n,"regexp"))}return this.traceEnd(e,t,u),u}},{key:"execExprArithmetical",value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=this.execExpr(e.childs()[1],t),u=void 0;switch(e.get("op")){case"+":u="string"==typeof r?r+c.default.coerce(n,"string"):c.default.coerce(r,"number")+c.default.coerce(n,"number");break;case"-":u=c.default.coerce(r,"number")+c.default.coerce(n,"number");break;case"*":u=c.default.coerce(r,"number")*c.default.coerce(n,"number");break;case"/":u=c.default.coerce(r,"number")/c.default.coerce(n,"number");break;case"%":u=c.default.coerce(r,"number")%c.default.coerce(n,"number");break;case"**":u=Math.pow(c.default.coerce(r,"number"),c.default.coerce(n,"number"))}return this.traceEnd(e,t,u),u}},{key:"execExprUnary",value:function(e,t){this.traceBegin(e,t);var r=this.execExpr(e.childs()[0],t),n=void 0;switch(e.get("op")){case"!":n=!c.default.coerce(r,"boolean");break;case"~":n=~c.default.coerce(r,"number")}return this.traceEnd(e,t,n),n}},{key:"execExprFuncCall",value:function(e,t){var r=this;this.traceBegin(e,t);var n=e.get("id"),u=[this.adapter,t];e.childs().forEach(function(e){u.push(r.execExpr(e,t))});var a=this.funcs.run(n,u);return this.traceEnd(e,t,a),a}},{key:"execExprAttribute",value:function(e,t){this.traceBegin(e,t);var r=e.get("id"),n=this.adapter.getNodeAttrValue(t,r);return this.traceEnd(e,t,n),n}},{key:"execExprParam",value:function(e,t){this.traceBegin(e,t);var r=e.get("id");if("undefined"==typeof this.params[r])throw new Error('invalid parameter "'+r+'"');var n=this.params[r];return this.traceEnd(e,t,n),n}},{key:"execExprLiteralString",value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r}},{key:"execExprLiteralRegExp",value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r}},{key:"execExprLiteralNumber",value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r}},{key:"execExprLiteralValue",value:function(e,t){this.traceBegin(e,t);var r=e.get("value");return this.traceEnd(e,t,r),r}},{key:"execExprPath",value:function(e,t){this.traceBegin(e,t);var r=this.execPath(e,t);return this.traceEnd(e,t,r),r}}]),t}(f.default);r.default=d},{"./astq-query-trace.js":8,"./astq-util.js":10}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./astq-util.js"),s=n(i),c=function(){function e(){u(this,e)}return o(e,[{key:"prefixOf",value:function(e,t){for(var r=0,n=e;null!==(n=n.parent());)r++;var u=s.default.pad("",4*r);for(r=0,n=t;null!==(n=this.adapter.getParentNode(n,"*"));)r++;var a=s.default.pad("",4*r);return{prefix1:u,prefix2:a}}},{key:"traceBegin",value:function(e,t){if(this.trace){var r=this.prefixOf(e,t),n=r.prefix1,u=r.prefix2;console.log("ASTQ: execute: | "+s.default.pad(n+e.type()+" (",-60)+" | "+u+this.adapter.getNodeType(t))}}},{key:"traceEnd",value:function(e,t,r){var n=this;if(this.trace){var u=this.prefixOf(e,t),o=u.prefix1,i=u.prefix2,c=void 0;void 0===r?c="undefined":"object"===("undefined"==typeof r?"undefined":a(r))&&r instanceof Array?(c="[",r.forEach(function(e){c+="node("+n.adapter.getNodeType(e)+"),"}),c=c.replace(/,$/,"")+"]"):c=("undefined"==typeof r?"undefined":a(r))+"("+r+")",c.length>60&&(c=c.substr(0,60)+"..."),console.log("ASTQ: execute: | "+s.default.pad(o+"): "+c,-60)+" | "+i+this.adapter.getNodeType(t))}}}]),e}();r.default=c},{"./astq-util.js":10}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("./astq-query-exec.js"),i=n(o),s=e("asty"),c=e("pegjs-util"),l=function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,r,n,u){this.message=e,this.expected=r,this.found=n,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function r(e,r){function n(){return f(hu,du)}function u(e,t){throw t=void 0!==t?t:f(hu,du),h(e,t)}function a(e,t){return{type:"literal",text:e,ignoreCase:t}}function o(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function i(){return{type:"any"}}function s(){return{type:"end"}}function c(e){return{type:"other",description:e}}function l(t){var r,n=pu[t];if(n)return n;for(r=t-1;!pu[r];)r--;for(n=pu[r],n={line:n.line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return pu[t]=n,n}function f(e,t){var r=l(e),n=l(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function d(e){du<yu||(du>yu&&(yu=du,vu=[]),vu.push(e))}function h(e,r){return new t(e,null,null,r)}function p(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function y(){var e,t,r,n,u,a=38*du+0,o=gu[a];return o?(du=o.nextPos,o.result):(e=du,t=H(),t!==ee?(r=v(),r!==ee?(n=H(),n!==ee?(u=W(),u!==ee?(hu=e,t=ne(r),e=t):(du=e,e=ee)):(du=e,e=ee)):(du=e,e=ee)):(du=e,e=ee),gu[a]={nextPos:du,result:e},e)}function v(){var t,r,n,u,a,o,i,s,c=38*du+1,l=gu[c];if(l)return du=l.nextPos,l.result;if(t=du,r=b(),r!==ee){for(n=[],u=du,a=H(),a!==ee?(44===e.charCodeAt(du)?(o=ue,du++):(o=ee,0===bu&&d(ae)),o!==ee?(i=H(),i!==ee?(s=b(),s!==ee?(a=[a,o,i,s],u=a):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee);u!==ee;)n.push(u),u=du,a=H(),a!==ee?(44===e.charCodeAt(du)?(o=ue,du++):(o=ee,0===bu&&d(ae)),o!==ee?(i=H(),i!==ee?(s=b(),s!==ee?(a=[a,o,i,s],u=a):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee);n!==ee?(hu=t,r=oe(r,n),t=r):(du=t,t=ee)}else du=t,t=ee;return gu[c]={nextPos:du,result:t},t}function b(){var e,t,r,n,u,a,o=38*du+2,i=gu[o];if(i)return du=i.nextPos,i.result;if(e=du,t=g(),t!==ee){for(r=[],n=du,u=H(),u!==ee?(a=x(),a!==ee?(u=[u,a],n=u):(du=n,n=ee)):(du=n,n=ee);n!==ee;)r.push(n),n=du,u=H(),u!==ee?(a=x(),a!==ee?(u=[u,a],n=u):(du=n,n=ee)):(du=n,n=ee);r!==ee?(hu=e,t=ie(t,r),e=t):(du=e,e=ee)}else du=e,e=ee;return gu[o]={nextPos:du,result:e},e}function g(){var t,r,n,u,a,o,i,s,c=38*du+3,l=gu[c];return l?(du=l.nextPos,l.result):(t=du,r=m(),r===ee&&(r=null),r!==ee?(n=H(),n!==ee?(u=E(),u!==ee?(a=H(),a!==ee?(33===e.charCodeAt(du)?(o=se,du++):(o=ee,0===bu&&d(ce)),o===ee&&(o=null),o!==ee?(i=H(),i!==ee?(s=P(),s===ee&&(s=null),s!==ee?(hu=t,r=le(r,u,o,s),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),gu[c]={nextPos:du,result:t},t)}function x(){var t,r,n,u,a,o,i,s,c=38*du+4,l=gu[c];return l?(du=l.nextPos,l.result):(t=du,r=m(),r!==ee?(n=H(),n!==ee?(u=E(),u!==ee?(a=H(),a!==ee?(33===e.charCodeAt(du)?(o=se,du++):(o=ee,0===bu&&d(ce)),o===ee&&(o=null),o!==ee?(i=H(),i!==ee?(s=P(),s===ee&&(s=null),s!==ee?(hu=t,r=le(r,u,o,s),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),gu[c]={nextPos:du,result:t},t)}function m(){var t,r,n,u=38*du+5,a=gu[u];return a?(du=a.nextPos,a.result):(bu++,t=du,r=du,e.substr(du,2)===de?(n=de,du+=2):(n=ee,0===bu&&d(he)),n===ee&&(47===e.charCodeAt(du)?(n=pe,du++):(n=ee,0===bu&&d(ye)),n===ee&&(e.substr(du,3)===ve?(n=ve,du+=3):(n=ee,0===bu&&d(be)),n===ee&&(e.substr(du,2)===ge?(n=ge,du+=2):(n=ee,0===bu&&d(xe)),n===ee&&(e.substr(du,3)===me?(n=me,du+=3):(n=ee,0===bu&&d(Ae)),n===ee&&(e.substr(du,2)===Ee?(n=Ee,du+=2):(n=ee,0===bu&&d(Pe)),n===ee&&(e.substr(du,4)===we?(n=we,du+=4):(n=ee,0===bu&&d(ke)),n===ee&&(e.substr(du,3)===Ce?(n=Ce,du+=3):(n=ee,0===bu&&d(Ne)),n===ee&&(e.substr(du,3)===Se?(n=Se,du+=3):(n=ee,0===bu&&d(je)),n===ee&&(e.substr(du,3)===_e?(n=_e,du+=3):(n=ee,0===bu&&d(Te))))))))))),r=n!==ee?e.substring(r,du):n,r!==ee?(n=A(),n===ee&&(n=null),n!==ee?(hu=t,r=qe(r,n),t=r):(du=t,t=ee)):(du=t,t=ee),bu--,t===ee&&(r=ee,0===bu&&d(fe)),gu[u]={nextPos:du,result:t},t)}function A(){var t,r,n,u,a=38*du+6,o=gu[a];return o?(du=o.nextPos,o.result):(t=du,58===e.charCodeAt(du)?(r=Oe,du++):(r=ee,0===bu&&d(Le)),r!==ee?(n=du,u=z(),n=u!==ee?e.substring(n,du):u,n!==ee?(hu=t,r=Be(n),t=r):(du=t,t=ee)):(du=t,t=ee),gu[a]={nextPos:du,result:t},t)}function E(){var t,r,n=38*du+7,u=gu[n];return u?(du=u.nextPos,u.result):(t=du,r=z(),r!==ee&&(hu=t,r=Me(r)),t=r,t===ee&&(t=du,42===e.charCodeAt(du)?(r=Qe,du++):(r=ee,0===bu&&d(Re)),r!==ee&&(hu=t,r=Fe()),t=r),gu[n]={nextPos:du,result:t},t)}function P(){var t,r,n,u,a,o,i=38*du+8,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,91===e.charCodeAt(du)?(r=Ve,du++):(r=ee,0===bu&&d(Ue)),r!==ee?(n=H(),n!==ee?(u=w(),u!==ee?(a=H(),a!==ee?(93===e.charCodeAt(du)?(o=ze,du++):(o=ee,0===bu&&d(Ie)),o!==ee?(hu=t,r=Ze(u),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),gu[i]={nextPos:du,result:t},t)}function w(){var t,r,n,u,a,o,i,s,c,l,f=38*du+9,h=gu[f];return h?(du=h.nextPos,h.result):(t=du,r=k(),r!==ee?(n=H(),n!==ee?(e.substr(du,2)===De?(u=De,du+=2):(u=ee,0===bu&&d($e)),u!==ee?(a=H(),a!==ee?(o=k(),o!==ee?(hu=t,r=Ye(r,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=du,r=k(),r!==ee?(n=H(),n!==ee?(63===e.charCodeAt(du)?(u=Ge,du++):(u=ee,0===bu&&d(He)),u!==ee?(a=H(),a!==ee?(o=k(),o!==ee?(i=H(),i!==ee?(58===e.charCodeAt(du)?(s=Oe,du++):(s=ee,0===bu&&d(Le)),s!==ee?(c=H(),c!==ee?(l=k(),l!==ee?(hu=t,r=Je(r,o,l),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=k())),gu[f]={nextPos:du,result:t},t)}function k(){var t,r,n,u,a,o,i=38*du+10,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=C(),r!==ee?(n=H(),n!==ee?(u=du,e.substr(du,2)===Ke?(a=Ke,du+=2):(a=ee,0===bu&&d(We)),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=k(),o!==ee?(hu=t,r=Xe(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=C()),gu[i]={nextPos:du,result:t},t)}function C(){var t,r,n,u,a,o,i=38*du+11,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=N(),r!==ee?(n=H(),n!==ee?(u=du,e.substr(du,2)===et?(a=et,du+=2):(a=ee,0===bu&&d(tt)),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=C(),o!==ee?(hu=t,r=Xe(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=N()),gu[i]={nextPos:du,result:t},t)}function N(){var t,r,n,u,a,o,i=38*du+12,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=S(),r!==ee?(n=H(),n!==ee?(u=du,124===e.charCodeAt(du)?(a=rt,du++):(a=ee,0===bu&&d(nt)),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=N(),o!==ee?(hu=t,r=ut(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=S()),gu[i]={nextPos:du,result:t},t)}function S(){var t,r,n,u,a,o,i=38*du+13,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=j(),r!==ee?(n=H(),n!==ee?(u=du,94===e.charCodeAt(du)?(a=at,du++):(a=ee,0===bu&&d(ot)),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=S(),o!==ee?(hu=t,r=ut(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=j()),gu[i]={nextPos:du,result:t},t)}function j(){var t,r,n,u,a,o,i=38*du+14,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=_(),r!==ee?(n=H(),n!==ee?(u=du,38===e.charCodeAt(du)?(a=it,du++):(a=ee,0===bu&&d(st)),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=j(),o!==ee?(hu=t,r=ut(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=_()),gu[i]={nextPos:du,result:t},t)}function _(){var t,r,n,u,a,o,i=38*du+15,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=T(),r!==ee?(n=H(),n!==ee?(u=du,e.substr(du,2)===ct?(a=ct,du+=2):(a=ee,0===bu&&d(lt)),a===ee&&(e.substr(du,2)===ft?(a=ft,du+=2):(a=ee,0===bu&&d(dt)),a===ee&&(e.substr(du,2)===ht?(a=ht,du+=2):(a=ee,0===bu&&d(pt)),a===ee&&(e.substr(du,2)===yt?(a=yt,du+=2):(a=ee,0===bu&&d(vt)),a===ee&&(60===e.charCodeAt(du)?(a=bt,du++):(a=ee,0===bu&&d(gt)),a===ee&&(62===e.charCodeAt(du)?(a=xt,du++):(a=ee,0===bu&&d(mt)),a===ee&&(e.substr(du,2)===At?(a=At,du+=2):(a=ee,0===bu&&d(Et)),a===ee&&(e.substr(du,2)===Pt?(a=Pt,du+=2):(a=ee,0===bu&&d(wt))))))))),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=_(),o!==ee?(hu=t,r=kt(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=T()),gu[i]={nextPos:du,result:t},t)}function T(){var t,r,n,u,a,o,i=38*du+16,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=q(),r!==ee?(n=H(),n!==ee?(u=du,e.substr(du,2)===Ct?(a=Ct,du+=2):(a=ee,0===bu&&d(Nt)),a===ee&&(e.substr(du,2)===St?(a=St,du+=2):(a=ee,0===bu&&d(jt))),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=T(),o!==ee?(hu=t,r=ut(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=q()),gu[i]={nextPos:du,result:t},t)}function q(){var t,r,n,u,a,o,i=38*du+17,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=O(),r!==ee?(n=H(),n!==ee?(u=du,43===e.charCodeAt(du)?(a=_t,du++):(a=ee,0===bu&&d(Tt)),a===ee&&(45===e.charCodeAt(du)?(a=qt,du++):(a=ee,0===bu&&d(Ot))),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=q(),o!==ee?(hu=t,r=Lt(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=O()),gu[i]={nextPos:du,result:t},t)}function O(){var t,r,n,u,a,o,i=38*du+18,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,r=L(),r!==ee?(n=H(),n!==ee?(u=du,e.substr(du,2)===Bt?(a=Bt,du+=2):(a=ee,0===bu&&d(Mt)),a===ee&&(42===e.charCodeAt(du)?(a=Qe,du++):(a=ee,0===bu&&d(Re)),a===ee&&(47===e.charCodeAt(du)?(a=pe,du++):(a=ee,0===bu&&d(ye)),a===ee&&(37===e.charCodeAt(du)?(a=Qt,du++):(a=ee,0===bu&&d(Rt))))),u=a!==ee?e.substring(u,du):a,u!==ee?(a=H(),a!==ee?(o=O(),o!==ee?(hu=t,r=Lt(r,u,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=L()),gu[i]={nextPos:du,result:t},t)}function L(){var t,r,n,u=38*du+19,a=gu[u];return a?(du=a.nextPos,a.result):(t=du,r=du,33===e.charCodeAt(du)?(n=se,du++):(n=ee,0===bu&&d(ce)),n===ee&&(126===e.charCodeAt(du)?(n=Ft,du++):(n=ee,0===bu&&d(Vt))),r=n!==ee?e.substring(r,du):n,r!==ee?(n=B(),n!==ee?(hu=t,r=Ut(r,n),t=r):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=B()),gu[u]={nextPos:du,result:t},t)}function B(){var e,t=38*du+20,r=gu[t];return r?(du=r.nextPos,r.result):(e=M(),e===ee&&(e=R(),e===ee&&(e=F(),e===ee&&(e=V(),e===ee&&(e=U(),e===ee&&(e=b()))))),gu[t]={nextPos:du,result:e},e)}function M(){var t,r,n,u,a,o,i,s,c=38*du+21,l=gu[c];return l?(du=l.nextPos,l.result):(t=du,r=z(),r!==ee?(n=H(),n!==ee?(40===e.charCodeAt(du)?(u=zt,du++):(u=ee,0===bu&&d(It)),u!==ee?(a=H(),a!==ee?(o=Q(),o===ee&&(o=null),o!==ee?(i=H(),i!==ee?(41===e.charCodeAt(du)?(s=Zt,du++):(s=ee,0===bu&&d(Dt)),s!==ee?(hu=t,r=$t(r,o),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),gu[c]={nextPos:du,result:t},t)}function Q(){var t,r,n,u,a,o,i,s,c=38*du+22,l=gu[c];if(l)return du=l.nextPos,l.result;if(t=du,r=w(),r!==ee){for(n=[],u=du,a=H(),a!==ee?(44===e.charCodeAt(du)?(o=ue,du++):(o=ee,0===bu&&d(ae)),o!==ee?(i=H(),i!==ee?(s=w(),s!==ee?(a=[a,o,i,s],u=a):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee);u!==ee;)n.push(u),u=du,a=H(),a!==ee?(44===e.charCodeAt(du)?(o=ue,du++):(o=ee,0===bu&&d(ae)),o!==ee?(i=H(),i!==ee?(s=w(),s!==ee?(a=[a,o,i,s],u=a):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee);n!==ee?(hu=t,r=Yt(r,n),t=r):(du=t,t=ee)}else du=t,t=ee;return gu[c]={nextPos:du,result:t},t}function R(){var t,r,n,u=38*du+23,a=gu[u];return a?(du=a.nextPos,a.result):(bu++,t=du,64===e.charCodeAt(du)?(r=Ht,du++):(r=ee,0===bu&&d(Jt)),r!==ee?(n=z(),n!==ee?(hu=t,r=Kt(n),t=r):(du=t,t=ee)):(du=t,t=ee),bu--,t===ee&&(r=ee,0===bu&&d(Gt)),gu[u]={nextPos:du,result:t},t)}function F(){var t,r,n,u,a,o,i=38*du+24,s=gu[i];return s?(du=s.nextPos,s.result):(bu++,t=du,123===e.charCodeAt(du)?(r=Xt,
du++):(r=ee,0===bu&&d(er)),r!==ee?(n=H(),n!==ee?(u=z(),u!==ee?(a=H(),a!==ee?(125===e.charCodeAt(du)?(o=tr,du++):(o=ee,0===bu&&d(rr)),o!==ee?(hu=t,r=nr(u),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),bu--,t===ee&&(r=ee,0===bu&&d(Wt)),gu[i]={nextPos:du,result:t},t)}function V(){var e,t=38*du+25,r=gu[t];return r?(du=r.nextPos,r.result):(e=I(),e===ee&&(e=$(),e===ee&&(e=Y(),e===ee&&(e=G()))),gu[t]={nextPos:du,result:e},e)}function U(){var t,r,n,u,a,o,i=38*du+26,s=gu[i];return s?(du=s.nextPos,s.result):(t=du,40===e.charCodeAt(du)?(r=zt,du++):(r=ee,0===bu&&d(It)),r!==ee?(n=H(),n!==ee?(u=w(),u!==ee?(a=H(),a!==ee?(41===e.charCodeAt(du)?(o=Zt,du++):(o=ee,0===bu&&d(Dt)),o!==ee?(hu=t,r=ur(u),t=r):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee)):(du=t,t=ee),gu[i]={nextPos:du,result:t},t)}function z(){var t,r,n,u,a,o,i,s=38*du+27,c=gu[s];if(c)return du=c.nextPos,c.result;if(bu++,t=du,r=du,n=du,u=du,bu++,a=G(),bu--,a===ee?u=void 0:(du=u,u=ee),u!==ee)if(or.test(e.charAt(du))?(a=e.charAt(du),du++):(a=ee,0===bu&&d(ir)),a!==ee){for(o=[],sr.test(e.charAt(du))?(i=e.charAt(du),du++):(i=ee,0===bu&&d(cr));i!==ee;)o.push(i),sr.test(e.charAt(du))?(i=e.charAt(du),du++):(i=ee,0===bu&&d(cr));o!==ee?(u=[u,a,o],n=u):(du=n,n=ee)}else du=n,n=ee;else du=n,n=ee;return r=n!==ee?e.substring(r,du):n,r!==ee&&(hu=t,r=lr(r)),t=r,bu--,t===ee&&(r=ee,0===bu&&d(ar)),gu[s]={nextPos:du,result:t},t}function I(){var t,r,n,u,a=38*du+28,o=gu[a];if(o)return du=o.nextPos,o.result;if(bu++,t=du,34===e.charCodeAt(du)?(r=dr,du++):(r=ee,0===bu&&d(hr)),r!==ee){for(n=[],u=Z(),u===ee&&(pr.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(yr)));u!==ee;)n.push(u),u=Z(),u===ee&&(pr.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(yr)));n!==ee?(34===e.charCodeAt(du)?(u=dr,du++):(u=ee,0===bu&&d(hr)),u!==ee?(hu=t,r=vr(n),t=r):(du=t,t=ee)):(du=t,t=ee)}else du=t,t=ee;if(t===ee)if(t=du,39===e.charCodeAt(du)?(r=br,du++):(r=ee,0===bu&&d(gr)),r!==ee){for(n=[],u=D(),u===ee&&(xr.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(mr)));u!==ee;)n.push(u),u=D(),u===ee&&(xr.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(mr)));n!==ee?(39===e.charCodeAt(du)?(u=br,du++):(u=ee,0===bu&&d(gr)),u!==ee?(hu=t,r=vr(n),t=r):(du=t,t=ee)):(du=t,t=ee)}else du=t,t=ee;return bu--,t===ee&&(r=ee,0===bu&&d(fr)),gu[a]={nextPos:du,result:t},t}function Z(){var t,r,n,u,a,o,i,s,c=38*du+29,l=gu[c];return l?(du=l.nextPos,l.result):(bu++,t=du,e.substr(du,2)===Er?(r=Er,du+=2):(r=ee,0===bu&&d(Pr)),r!==ee&&(hu=t,r=wr()),t=r,t===ee&&(t=du,e.substr(du,2)===kr?(r=kr,du+=2):(r=ee,0===bu&&d(Cr)),r!==ee&&(hu=t,r=Nr()),t=r,t===ee&&(t=du,e.substr(du,2)===Sr?(r=Sr,du+=2):(r=ee,0===bu&&d(jr)),r!==ee&&(hu=t,r=_r()),t=r,t===ee&&(t=du,e.substr(du,2)===Tr?(r=Tr,du+=2):(r=ee,0===bu&&d(qr)),r!==ee&&(hu=t,r=Or()),t=r,t===ee&&(t=du,e.substr(du,2)===Lr?(r=Lr,du+=2):(r=ee,0===bu&&d(Br)),r!==ee&&(hu=t,r=Mr()),t=r,t===ee&&(t=du,e.substr(du,2)===Qr?(r=Qr,du+=2):(r=ee,0===bu&&d(Rr)),r!==ee&&(hu=t,r=Fr()),t=r,t===ee&&(t=du,e.substr(du,2)===Vr?(r=Vr,du+=2):(r=ee,0===bu&&d(Ur)),r!==ee&&(hu=t,r=zr()),t=r,t===ee&&(t=du,e.substr(du,2)===Ir?(r=Ir,du+=2):(r=ee,0===bu&&d(Zr)),r!==ee&&(hu=t,r=Dr()),t=r,t===ee&&(t=du,e.substr(du,2)===$r?(r=$r,du+=2):(r=ee,0===bu&&d(Yr)),r!==ee&&(hu=t,r=Gr()),t=r,t===ee&&(t=du,e.substr(du,2)===Hr?(r=Hr,du+=2):(r=ee,0===bu&&d(Jr)),r!==ee?(n=du,u=du,Kr.test(e.charAt(du))?(a=e.charAt(du),du++):(a=ee,0===bu&&d(Wr)),a!==ee?(Kr.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Wr)),o!==ee?(a=[a,o],u=a):(du=u,u=ee)):(du=u,u=ee),n=u!==ee?e.substring(n,du):u,n!==ee?(hu=t,r=Xr(n),t=r):(du=t,t=ee)):(du=t,t=ee),t===ee&&(t=du,e.substr(du,2)===en?(r=en,du+=2):(r=ee,0===bu&&d(tn)),r!==ee?(n=du,u=du,Kr.test(e.charAt(du))?(a=e.charAt(du),du++):(a=ee,0===bu&&d(Wr)),a!==ee?(Kr.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Wr)),o!==ee?(Kr.test(e.charAt(du))?(i=e.charAt(du),du++):(i=ee,0===bu&&d(Wr)),i!==ee?(Kr.test(e.charAt(du))?(s=e.charAt(du),du++):(s=ee,0===bu&&d(Wr)),s!==ee?(a=[a,o,i,s],u=a):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee)):(du=u,u=ee),n=u!==ee?e.substring(n,du):u,n!==ee?(hu=t,r=Xr(n),t=r):(du=t,t=ee)):(du=t,t=ee))))))))))),bu--,t===ee&&(r=ee,0===bu&&d(Ar)),gu[c]={nextPos:du,result:t},t)}function D(){var t,r,n=38*du+30,u=gu[n];return u?(du=u.nextPos,u.result):(bu++,t=du,e.substr(du,2)===nn?(r=nn,du+=2):(r=ee,0===bu&&d(un)),r!==ee&&(hu=t,r=an()),t=r,bu--,t===ee&&(r=ee,0===bu&&d(rn)),gu[n]={nextPos:du,result:t},t)}function $(){var t,r,n,u,a,o=38*du+31,i=gu[o];if(i)return du=i.nextPos,i.result;if(bu++,t=du,96===e.charCodeAt(du)?(r=sn,du++):(r=ee,0===bu&&d(cn)),r!==ee){for(n=du,u=[],e.substr(du,2)===ln?(a=ln,du+=2):(a=ee,0===bu&&d(fn)),a===ee&&(dn.test(e.charAt(du))?(a=e.charAt(du),du++):(a=ee,0===bu&&d(hn)));a!==ee;)u.push(a),e.substr(du,2)===ln?(a=ln,du+=2):(a=ee,0===bu&&d(fn)),a===ee&&(dn.test(e.charAt(du))?(a=e.charAt(du),du++):(a=ee,0===bu&&d(hn)));n=u!==ee?e.substring(n,du):u,n!==ee?(96===e.charCodeAt(du)?(u=sn,du++):(u=ee,0===bu&&d(cn)),u!==ee?(hu=t,r=pn(n),t=r):(du=t,t=ee)):(du=t,t=ee)}else du=t,t=ee;return bu--,t===ee&&(r=ee,0===bu&&d(on)),gu[o]={nextPos:du,result:t},t}function Y(){var t,r,n,u,a,o,i,s,c,l,f,h,p=38*du+32,y=gu[p];if(y)return du=y.nextPos,y.result;if(bu++,t=du,r=du,vn.test(e.charAt(du))?(n=e.charAt(du),du++):(n=ee,0===bu&&d(bn)),n===ee&&(n=null),r=n!==ee?e.substring(r,du):n,r!==ee)if(e.substr(du,2)===gn?(n=gn,du+=2):(n=ee,0===bu&&d(xn)),n!==ee){if(u=du,a=[],mn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(An)),o!==ee)for(;o!==ee;)a.push(o),mn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(An));else a=ee;u=a!==ee?e.substring(u,du):a,u!==ee?(hu=t,r=En(r,u),t=r):(du=t,t=ee)}else du=t,t=ee;else du=t,t=ee;if(t===ee){if(t=du,r=du,vn.test(e.charAt(du))?(n=e.charAt(du),du++):(n=ee,0===bu&&d(bn)),n===ee&&(n=null),r=n!==ee?e.substring(r,du):n,r!==ee)if(e.substr(du,2)===Pn?(n=Pn,du+=2):(n=ee,0===bu&&d(wn)),n!==ee){if(u=du,a=[],kn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Cn)),o!==ee)for(;o!==ee;)a.push(o),kn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Cn));else a=ee;u=a!==ee?e.substring(u,du):a,u!==ee?(hu=t,r=Nn(r,u),t=r):(du=t,t=ee)}else du=t,t=ee;else du=t,t=ee;if(t===ee){if(t=du,r=du,vn.test(e.charAt(du))?(n=e.charAt(du),du++):(n=ee,0===bu&&d(bn)),n===ee&&(n=null),r=n!==ee?e.substring(r,du):n,r!==ee)if(e.substr(du,2)===Sn?(n=Sn,du+=2):(n=ee,0===bu&&d(jn)),n!==ee){if(u=du,a=[],Kr.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Wr)),o!==ee)for(;o!==ee;)a.push(o),Kr.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(Wr));else a=ee;u=a!==ee?e.substring(u,du):a,u!==ee?(hu=t,r=_n(r,u),t=r):(du=t,t=ee)}else du=t,t=ee;else du=t,t=ee;if(t===ee){if(t=du,r=du,n=du,vn.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(bn)),u===ee&&(u=null),u!==ee){for(a=[],Tn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(qn));o!==ee;)a.push(o),Tn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(qn));if(a!==ee)if(46===e.charCodeAt(du)?(o=On,du++):(o=ee,0===bu&&d(Ln)),o!==ee){if(i=[],Tn.test(e.charAt(du))?(s=e.charAt(du),du++):(s=ee,0===bu&&d(qn)),s!==ee)for(;s!==ee;)i.push(s),Tn.test(e.charAt(du))?(s=e.charAt(du),du++):(s=ee,0===bu&&d(qn));else i=ee;if(i!==ee){if(s=du,Bn.test(e.charAt(du))?(c=e.charAt(du),du++):(c=ee,0===bu&&d(Mn)),c!==ee)if(vn.test(e.charAt(du))?(l=e.charAt(du),du++):(l=ee,0===bu&&d(bn)),l===ee&&(l=null),l!==ee){if(f=[],Tn.test(e.charAt(du))?(h=e.charAt(du),du++):(h=ee,0===bu&&d(qn)),h!==ee)for(;h!==ee;)f.push(h),Tn.test(e.charAt(du))?(h=e.charAt(du),du++):(h=ee,0===bu&&d(qn));else f=ee;f!==ee?(c=[c,l,f],s=c):(du=s,s=ee)}else du=s,s=ee;else du=s,s=ee;s===ee&&(s=null),s!==ee?(u=[u,a,o,i,s],n=u):(du=n,n=ee)}else du=n,n=ee}else du=n,n=ee;else du=n,n=ee}else du=n,n=ee;if(r=n!==ee?e.substring(r,du):n,r!==ee&&(hu=t,r=Qn(r)),t=r,t===ee){if(t=du,r=du,n=du,vn.test(e.charAt(du))?(u=e.charAt(du),du++):(u=ee,0===bu&&d(bn)),u===ee&&(u=null),u!==ee){if(a=[],Tn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(qn)),o!==ee)for(;o!==ee;)a.push(o),Tn.test(e.charAt(du))?(o=e.charAt(du),du++):(o=ee,0===bu&&d(qn));else a=ee;a!==ee?(u=[u,a],n=u):(du=n,n=ee)}else du=n,n=ee;r=n!==ee?e.substring(r,du):n,r!==ee&&(hu=t,r=Rn(r)),t=r}}}}return bu--,t===ee&&(r=ee,0===bu&&d(yn)),gu[p]={nextPos:du,result:t},t}function G(){var t,r,n=38*du+33,u=gu[n];return u?(du=u.nextPos,u.result):(bu++,t=du,e.substr(du,4)===Vn?(r=Vn,du+=4):(r=ee,0===bu&&d(Un)),r!==ee&&(hu=t,r=zn()),t=r,t===ee&&(t=du,e.substr(du,5)===In?(r=In,du+=5):(r=ee,0===bu&&d(Zn)),r!==ee&&(hu=t,r=Dn()),t=r,t===ee&&(t=du,e.substr(du,4)===$n?(r=$n,du+=4):(r=ee,0===bu&&d(Yn)),r!==ee&&(hu=t,r=Gn()),t=r,t===ee&&(t=du,e.substr(du,3)===Hn?(r=Hn,du+=3):(r=ee,0===bu&&d(Jn)),r!==ee&&(hu=t,r=Kn()),t=r,t===ee&&(t=du,e.substr(du,9)===Wn?(r=Wn,du+=9):(r=ee,0===bu&&d(Xn)),r!==ee&&(hu=t,r=eu()),t=r)))),bu--,t===ee&&(r=ee,0===bu&&d(Fn)),gu[n]={nextPos:du,result:t},t)}function H(){var e,t,r=38*du+34,n=gu[r];if(n)return du=n.nextPos,n.result;for(bu++,e=[],t=J(),t===ee&&(t=K());t!==ee;)e.push(t),t=J(),t===ee&&(t=K());return bu--,e===ee&&(t=ee,0===bu&&d(tu)),gu[r]={nextPos:du,result:e},e}function J(){var t,r,n,u,a,o,i=38*du+35,s=gu[i];if(s)return du=s.nextPos,s.result;if(bu++,t=du,e.substr(du,2)===nu?(r=nu,du+=2):(r=ee,0===bu&&d(uu)),r!==ee){for(n=[],u=du,a=du,bu++,e.substr(du,2)===au?(o=au,du+=2):(o=ee,0===bu&&d(ou)),bu--,o===ee?a=void 0:(du=a,a=ee),a!==ee?(e.length>du?(o=e.charAt(du),du++):(o=ee,0===bu&&d(iu)),o!==ee?(a=[a,o],u=a):(du=u,u=ee)):(du=u,u=ee);u!==ee;)n.push(u),u=du,a=du,bu++,e.substr(du,2)===au?(o=au,du+=2):(o=ee,0===bu&&d(ou)),bu--,o===ee?a=void 0:(du=a,a=ee),a!==ee?(e.length>du?(o=e.charAt(du),du++):(o=ee,0===bu&&d(iu)),o!==ee?(a=[a,o],u=a):(du=u,u=ee)):(du=u,u=ee);n!==ee?(e.substr(du,2)===au?(u=au,du+=2):(u=ee,0===bu&&d(ou)),u!==ee?(r=[r,n,u],t=r):(du=t,t=ee)):(du=t,t=ee)}else du=t,t=ee;return bu--,t===ee&&(r=ee,0===bu&&d(ru)),gu[i]={nextPos:du,result:t},t}function K(){var t,r,n=38*du+36,u=gu[n];if(u)return du=u.nextPos,u.result;if(bu++,t=[],cu.test(e.charAt(du))?(r=e.charAt(du),du++):(r=ee,0===bu&&d(lu)),r!==ee)for(;r!==ee;)t.push(r),cu.test(e.charAt(du))?(r=e.charAt(du),du++):(r=ee,0===bu&&d(lu));else t=ee;return bu--,t===ee&&(r=ee,0===bu&&d(su)),gu[n]={nextPos:du,result:t},t}function W(){var t,r,n=38*du+37,u=gu[n];return u?(du=u.nextPos,u.result):(bu++,t=du,bu++,e.length>du?(r=e.charAt(du),du++):(r=ee,0===bu&&d(iu)),bu--,r===ee?t=void 0:(du=t,t=ee),bu--,t===ee&&(r=ee,0===bu&&d(fu)),gu[n]={nextPos:du,result:t},t)}r=void 0!==r?r:{};var X,ee={},te={query:y},re=y,ne=function(e){return e},ue=",",ae=a(",",!1),oe=function(e,t){return mu("Query").add(xu(e,t,3))},ie=function(e,t){return mu("Path").add(xu(e,t,1))},se="!",ce=a("!",!1),le=function(e,t,r,n){return mu("Step").add(e,t,n).set(null!==r?{isResult:!0}:{})},fe=c("axis"),de="//",he=a("//",!1),pe="/",ye=a("/",!1),ve="-//",be=a("-//",!1),ge="-/",xe=a("-/",!1),me="+//",Ae=a("+//",!1),Ee="+/",Pe=a("+/",!1),we="..//",ke=a("..//",!1),Ce="../",Ne=a("../",!1),Se="<//",je=a("<//",!1),_e=">//",Te=a(">//",!1),qe=function(e,t){return mu("Axis").set({op:e,type:null!==t?t:"*"})},Oe=":",Le=a(":",!1),Be=function(e){return e},Me=function(e){return mu("Match").merge(e)},Qe="*",Re=a("*",!1),Fe=function(){return mu("Match").set({id:"*"})},Ve="[",Ue=a("[",!1),ze="]",Ie=a("]",!1),Ze=function(e){return mu("Filter").add(e)},De="?:",$e=a("?:",!1),Ye=function(e,t){return mu("ConditionalBinary").add(e,t)},Ge="?",He=a("?",!1),Je=function(e,t,r){return mu("ConditionalTernary").add(e,t,r)},Ke="||",We=a("||",!1),Xe=function(e,t,r){return mu("Logical").set({op:t}).add(e,r)},et="&&",tt=a("&&",!1),rt="|",nt=a("|",!1),ut=function(e,t,r){return mu("Bitwise").set({op:t}).add(e,r)},at="^",ot=a("^",!1),it="&",st=a("&",!1),ct="==",lt=a("==",!1),ft="!=",dt=a("!=",!1),ht="<=",pt=a("<=",!1),yt=">=",vt=a(">=",!1),bt="<",gt=a("<",!1),xt=">",mt=a(">",!1),At="=~",Et=a("=~",!1),Pt="!~",wt=a("!~",!1),kt=function(e,t,r){return mu("Relational").set({op:t}).add(e,r)},Ct="<<",Nt=a("<<",!1),St=">>",jt=a(">>",!1),_t="+",Tt=a("+",!1),qt="-",Ot=a("-",!1),Lt=function(e,t,r){return mu("Arithmetical").set({op:t}).add(e,r)},Bt="**",Mt=a("**",!1),Qt="%",Rt=a("%",!1),Ft="~",Vt=a("~",!1),Ut=function(e,t){return mu("Unary").set({op:e}).add(t)},zt="(",It=a("(",!1),Zt=")",Dt=a(")",!1),$t=function(e,t){return mu("FuncCall").merge(e).add(t)},Yt=function(e,t){return xu(e,t,3)},Gt=c("node attribute"),Ht="@",Jt=a("@",!1),Kt=function(e){return mu("Attribute").merge(e)},Wt=c("query parameter reference"),Xt="{",er=a("{",!1),tr="}",rr=a("}",!1),nr=function(e){return mu("Param").merge(e)},ur=function(e){return e},ar=c("identifier"),or=/^[a-zA-Z_]/,ir=o([["a","z"],["A","Z"],"_"],!1,!1),sr=/^[a-zA-Z0-9_\-]/,cr=o([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),lr=function(e){return mu("Identifier").set({id:e})},fr=c("quoted string literal"),dr='"',hr=a('"',!1),pr=/^[^"]/,yr=o(['"'],!0,!1),vr=function(e){return mu("LiteralString").set({value:e.join("")})},br="'",gr=a("'",!1),xr=/^[^']/,mr=o(["'"],!0,!1),Ar=c("escaped double-quoted-string character"),Er="\\\\",Pr=a("\\\\",!1),wr=function(){return"\\"},kr='\\"',Cr=a('\\"',!1),Nr=function(){return'"'},Sr="\\b",jr=a("\\b",!1),_r=function(){return"\b"},Tr="\\v",qr=a("\\v",!1),Or=function(){return"\v"},Lr="\\f",Br=a("\\f",!1),Mr=function(){return"\f"},Qr="\\t",Rr=a("\\t",!1),Fr=function(){return"\t"},Vr="\\r",Ur=a("\\r",!1),zr=function(){return"\r"},Ir="\\n",Zr=a("\\n",!1),Dr=function(){return"\n"},$r="\\e",Yr=a("\\e",!1),Gr=function(){return""},Hr="\\x",Jr=a("\\x",!1),Kr=/^[0-9a-fA-F]/,Wr=o([["0","9"],["a","f"],["A","F"]],!1,!1),Xr=function(e){return String.fromCharCode(parseInt(e,16))},en="\\u",tn=a("\\u",!1),rn=c("escaped single-quoted-string character"),nn="\\'",un=a("\\'",!1),an=function(){return"'"},on=c("regular expression literal"),sn="`",cn=a("`",!1),ln="\\`",fn=a("\\`",!1),dn=/^[^`]/,hn=o(["`"],!0,!1),pn=function(e){var t;try{t=new RegExp(e.replace(/\\`/g,"`"))}catch(e){u(e.message)}return mu("LiteralRegExp").set({value:t})},yn=c("numeric literal"),vn=/^[+\-]/,bn=o(["+","-"],!1,!1),gn="0b",xn=a("0b",!1),mn=/^[01]/,An=o(["0","1"],!1,!1),En=function(e,t){return mu("LiteralNumber").set({value:parseInt(e+t,2)})},Pn="0o",wn=a("0o",!1),kn=/^[0-7]/,Cn=o([["0","7"]],!1,!1),Nn=function(e,t){return mu("LiteralNumber").set({value:parseInt(e+t,8)})},Sn="0x",jn=a("0x",!1),_n=function(e,t){return mu("LiteralNumber").set({value:parseInt(e+t,16)})},Tn=/^[0-9]/,qn=o([["0","9"]],!1,!1),On=".",Ln=a(".",!1),Bn=/^[eE]/,Mn=o(["e","E"],!1,!1),Qn=function(e){return mu("LiteralNumber").set({value:parseFloat(e)})},Rn=function(e){return mu("LiteralNumber").set({value:parseInt(e,10)})},Fn=c("global value"),Vn="true",Un=a("true",!1),zn=function(){return mu("LiteralValue").set({value:!0})},In="false",Zn=a("false",!1),Dn=function(){return mu("LiteralValue").set({value:!1})},$n="null",Yn=a("null",!1),Gn=function(){return mu("LiteralValue").set({value:null})},Hn="NaN",Jn=a("NaN",!1),Kn=function(){return mu("LiteralValue").set({value:NaN})},Wn="undefined",Xn=a("undefined",!1),eu=function(){return mu("LiteralValue").set({value:void 0})},tu=c("optional blank"),ru=c("multi-line comment"),nu="/*",uu=a("/*",!1),au="*/",ou=a("*/",!1),iu=i(),su=c("any whitespaces"),cu=/^[ \t\r\n]/,lu=o([" ","\t","\r","\n"],!1,!1),fu=c("end of file"),du=0,hu=0,pu=[{line:1,column:1}],yu=0,vu=[],bu=0,gu={};if("startRule"in r){if(!(r.startRule in te))throw new Error("Can't start parsing from rule \""+r.startRule+'".');re=te[r.startRule]}var xu=r.util.makeUnroll(n,r),mu=r.util.makeAST(n,r);if(X=re(),X!==ee&&du===e.length)return X;throw X!==ee&&du<e.length&&d(s()),p(vu,yu<e.length?e.charAt(yu):null,yu<e.length?f(yu,yu+1):f(yu,yu))}return e(t,Error),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function u(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return s[e.type](e)}function o(e){var t,r,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=a(e[t]);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function i(e){return e?'"'+n(e)+'"':"end of input"}var s={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?u(e.parts[t][0])+"-"+u(e.parts[t][1]):u(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+o(e)+" but "+i(t)+" found."},{SyntaxError:t,parse:r}}(),f=function(){function e(t){u(this,e),this.asty=new s,this.ast=null,t&&this.compile(t)}return a(e,[{key:"compile",value:function(e,t){var r=this;t&&console.log("ASTQ: compile: +-------------------------------------------------------------------------------------------------------\nASTQ: compile: | "+e);var n=c.parse(l,e,{startRule:"query",makeAST:function(e,t,n,u){return r.asty.create.apply(r.asty,u).pos(e,t,n)}});if(null!==n.error)throw new Error("ASTQ: compile: query parsing failed:\n"+c.errorMessage(n.error,!0).replace(/^/gm,"ERROR: "));return this.ast=n.ast,t&&console.log("ASTQ: compile: +-------------------------------------------------------------------------------------------------------\n"+this.dump().replace(/\n$/,"").replace(/^/gm,"ASTQ: compile: | ")),this}},{key:"dump",value:function(){return this.ast.dump()}},{key:"execute",value:function(e,t,r,n,u){u&&console.log("ASTQ: execute: +--------------------------------------------------------------+----------------------------------------");var a=new i.default(t,r,n,u);return a.execQuery(this.ast,e)}}]),e}();r.default=f},{"./astq-query-exec.js":7,asty:"asty","pegjs-util":"pegjs-util"}],10:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,null,[{key:"pad",value:function e(t,r){var n=r<0?-r:r;if(t.length>n)t=t.substr(0,n);else{var e=Array(n+1-t.length).join(" ");t=r<0?t+e:e+t}return t}},{key:"truthy",value:function(e){var t=void 0;switch("undefined"==typeof e?"undefined":u(e)){case"boolean":t=e;break;case"number":t=0!==e&&!isNaN(e);break;case"string":t=""!==e;break;case"object":t=!1,null!==e&&(t=!0,e instanceof Array&&(t=e.length>0));break;default:t=!1}return t}},{key:"coerce",value:function(e,t){if(("undefined"==typeof e?"undefined":u(e))!==t)try{switch(t){case"boolean":"boolean"!=typeof e&&(e=Boolean(e));break;case"number":"number"!=typeof e&&(e=Number(e));break;case"string":"string"!=typeof e&&(e=String(e));break;case"regexp":"object"===("undefined"==typeof e?"undefined":u(e))&&e instanceof RegExp||(e=new RegExp(e))}}catch(e){throw new Error("cannot coerce value into type "+t)}return e}}]),e}();r.default=o},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={major:1,minor:8,micro:0,date:20160930};r.default=n},{}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("./astq-adapter.js"),i=n(o),s=e("./astq-adapter-asty.js"),c=n(s),l=e("./astq-adapter-mozast.js"),f=n(l),d=e("./astq-adapter-xmldom.js"),h=n(d),p=e("./astq-funcs.js"),y=n(p),v=e("./astq-funcs-std.js"),b=n(v),g=e("./astq-query.js"),x=n(g),m=e("./astq-version.js"),A=n(m),E=e("cache-lru"),P=function(){function e(){u(this,e),this._adapter=(new i.default).register(f.default).register(h.default).register(c.default),this._funcs=new y.default;for(var t in b.default)this.func(t,b.default[t]);this._cache=new E}return a(e,[{key:"version",value:function(){return A.default}},{key:"adapter",value:function(e){if(1!==arguments.length)throw new Error("ASTQ#adapter: invalid number of arguments");return this._adapter.unregister(),this._adapter.register(e),this}},{key:"func",value:function(e,t){if(2!==arguments.length)throw new Error("ASTQ#func: invalid number of arguments");return this._funcs.register(e,t),this}},{key:"cache",value:function(e){if(1!==arguments.length)throw new Error("ASTQ#cache: invalid number of arguments");return this._cache.limit(e),this}},{key:"compile",value:function(e,t){if(arguments.length<1)throw new Error("ASTQ#compile: too less arguments");if(arguments.length>2)throw new Error("ASTQ#compile: too many arguments");void 0===t&&(t=!1);var r=this._cache.get(e);return void 0===r&&(r=new x.default,r.compile(e,t),this._cache.set(e,r)),r}},{key:"execute",value:function(e,t,r,n){if(arguments.length<2)throw new Error("ASTQ#execute: too less arguments");if(arguments.length>4)throw new Error("ASTQ#execute: too many arguments");void 0===r&&(r={}),void 0===n&&(n=!1);var u=this._adapter.select(e);if(void 0===u)throw new Error("ASTQ#execute: no suitable adapter found for node");return t.execute(e,u,r,this._funcs,n)}},{key:"query",value:function(e,t,r,n){if(arguments.length<2)throw new Error("ASTQ#query: too less arguments");if(arguments.length>4)throw new Error("ASTQ#query: too many arguments");return void 0===r&&(r={}),void 0===n&&(n=!1),this.execute(e,this.compile(t,n),r,n)}}]),e}();t.exports=P},{"./astq-adapter-asty.js":1,"./astq-adapter-mozast.js":2,"./astq-adapter-xmldom.js":3,"./astq-adapter.js":4,"./astq-funcs-std.js":5,"./astq-funcs.js":6,"./astq-query.js":9,"./astq-version.js":11,"cache-lru":"cache-lru"}]},{},[1,2,3,4,5,6,7,8,9,10,11,12])(12)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(_dereq_,module,exports){
(function (global){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.ASTY=e()}}(function(){return function e(n,t,r){function o(u,a){if(!t[u]){if(!n[u]){var f="function"==typeof _dereq_&&_dereq_;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[u]={exports:{}};n[u][0].call(c.exports,function(e){var t=n[u][1][e];return o(t?t:e)},c,c.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof _dereq_&&_dereq_,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=function(){function e(){r(this,e)}return i(e,[{key:"init",value:function(e,n,t,r){if(arguments.length<2)throw new Error("init: invalid number of arguments");if(this.ctx=e,this.ASTy=!0,this.T=n,this.L={L:0,C:0,O:0},this.A={},this.C=[],this.P=null,"object"===("undefined"==typeof t?"undefined":o(t)))for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i]);return"object"===("undefined"==typeof r?"undefined":o(r))&&r instanceof Array&&this.add(r),this}},{key:"type",value:function(e){if(0===arguments.length)return this.T;if(1===arguments.length)return this.T=e,this;throw new Error("type: invalid number of arguments")}},{key:"pos",value:function(e,n,t){if(0===arguments.length)return{line:this.L.L,column:this.L.C,offset:this.L.O};if(arguments.length<=3)return this.L.L=e||0,this.L.C=n||0,this.L.O=t||0,this;throw new Error("pos: invalid number of arguments")}},{key:"set",value:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(1===t.length&&"object"===o(t[0]))Object.keys(t[0]).forEach(function(n){e.A[n]=t[0][n]});else{if(2!==t.length)throw new Error("set: invalid number of arguments");this.A[t[0]]=t[1]}return this}},{key:"unset",value:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(1===t.length&&"object"===o(t[0])&&t[0]instanceof Array)t[0].forEach(function(n){delete e.A[n]});else{if(1!==t.length)throw new Error("unset: invalid number of arguments");delete this.A[t[0]]}return this}},{key:"get",value:function(e){if(1!==arguments.length)throw new Error("get: invalid number of arguments");if("string"!=typeof e)throw new Error("get: invalid key argument");return this.A[e]}},{key:"attrs",value:function(){return Object.keys(this.A)}},{key:"nth",value:function(){if(null===this.P)return 1;var e=this.P.C.indexOf(this);if(e<0)throw new Error("nth: internal error -- node not in childs of its parent");return e}},{key:"ins",value:function(e){for(var n=this,t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(0===r.length)throw new Error("ins: invalid number of arguments");if(e<0&&(e=this.C.length+1-e),!(0<=e&&e<=this.C.length))throw new Error("ins: invalid position");var u=function(t){if(!n.ctx.isA(t))throw new Error("ins: invalid AST node argument");n.C.splice(e++,0,t),t.P=n};return r.forEach(function(e){"object"===("undefined"==typeof e?"undefined":o(e))&&e instanceof Array?e.forEach(function(e){u(e)}):null!==e&&u(e)}),this}},{key:"add",value:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(0===t.length)throw new Error("add: invalid number of arguments");var i=function(n){if(!e.ctx.isA(n))throw new Error("add: invalid AST node argument");e.C.push(n),n.P=e};return t.forEach(function(e){"object"===("undefined"==typeof e?"undefined":o(e))&&e instanceof Array?e.forEach(function(e){i(e)}):null!==e&&i(e)}),this}},{key:"del",value:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];if(0===t.length)throw new Error("del: invalid number of argument");return t.forEach(function(n){if(!e.ctx.isA(n))throw new Error("del: invalid AST node argument");for(var t=!1,r=0;r<e.C.length;r++)if(e.C[r]===n){e.C.splice(r,1),n.P=null,t=!0;break}if(!t)throw new Error("del: AST node not found in childs")}),this}},{key:"childs",value:function(){return this.C}},{key:"parent",value:function(){return this.P}},{key:"serialize",value:function(){return this.ctx.serialize(this.ctx,this)}}]),e}();t.default=u},{}],2:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=function(){function e(){r(this,e)}return i(e,[{key:"dump",value:function(e){void 0===e&&(e=1/0);var n="";return this.walk(function(t,r){if(!(r>e)){for(var i=0;i<r;i++)n+="    ";n+=t.T+" ";var u=Object.keys(t.A);u.length>0&&!function(){n+="(";var e=!0;u.forEach(function(r){e?e=!1:n+=", ",n+=r+": ";var i=t.A[r];!function(){switch("undefined"==typeof i?"undefined":o(i)){case"boolean":case"number":n+=i.toString();break;case"string":var e=function(e){return e.charCodeAt(0).toString(16).toUpperCase()};n+='"'+i.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(n){return"\\x0"+e(n)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(n){return"\\x"+e(n)}).replace(/[\u0100-\u0FFF]/g,function(n){return"\\u0"+e(n)}).replace(/[\u1000-\uFFFF]/g,function(n){return"\\u"+e(n)})+'"';break;case"object":n+=i instanceof RegExp?i.source:JSON.stringify(i);break;default:n+=JSON.stringify(i)}}()}),n+=") "}(),n+="["+t.L.L+"/"+t.L.C+"]\n"}},"downward"),n}}]),e}();t.default=u},{}],3:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"merge",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.ctx.isA(e))throw new Error("merge: invalid AST node argument");if(t){var o=e.pos();this.pos(o.L,o.C,o.O)}return e.attrs().forEach(function(t){var o="undefined"!=typeof r[t]?r[t]:t;null!==o&&n.set(o,e.get(t))}),e.childs().forEach(function(e){n.add(e)}),this}}]),e}();t.default=i},{}],4:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u=function(){function e(){r(this,e)}return i(e,null,[{key:"serialize",value:function(e,n){var t=function e(n){var t={T:n.T,L:{L:n.L.L,C:n.L.C,O:n.L.O}},r=Object.keys(n.A);return r.length>0&&(t.A={},r.forEach(function(e){var r=n.A[e];switch("undefined"==typeof r?"undefined":o(r)){case"boolean":case"number":case"string":t.A[e]=r;break;default:t.A[e]=JSON.parse(JSON.stringify(r))}})),n.C.length>0&&(t.C=n.C.map(function(n){return e(n)})),t};if(!e.isA(n))throw new Error("serialize: not an ASTy node");return JSON.stringify({ASTy:t(n)})}},{key:"unserialize",value:function(e,n){var t=function n(t){var r=e.create(t.T);return r.pos(t.L.L,t.L.C,t.L.O),"object"===o(t.A)&&Object.keys(t.A).forEach(function(e){var n=t.A[e];switch("undefined"==typeof n?"undefined":o(n)){case"boolean":case"number":case"string":r.set(e,n);break;default:r.set(e,JSON.parse(JSON.stringify(n)))}}),"object"===o(t.C)&&t.C instanceof Array&&r.add(t.C.map(function(e){return n(e)})),r},r=JSON.parse(n);if("object"!==("undefined"==typeof r?"undefined":o(r))||"object"!==o(r.ASTy))throw new Error("unserialize: not an ASTy JSON export");return t(r.ASTy)}}]),e}();t.default=u},{}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={major:1,minor:4,micro:7,date:20160930};t.default=r},{}],6:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=function(){function e(){r(this,e)}return o(e,[{key:"walk",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"downward",t=function t(r,o,i){"downward"!==n&&"both"!==n||e.call(null,r,o,i,"downward"),r.C.forEach(function(e){t(e,o+1,r)}),"upward"!==n&&"both"!==n||e.call(null,r,o,i,"upward")};return t(this,0,null),this}}]),e}();t.default=i},{}],7:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=e("./asty-base.js"),f=r(a),s=e("./asty-merge.js"),c=r(s),l=e("./asty-walk.js"),y=r(l),d=e("./asty-dump.js"),h=r(d),p=e("./asty-serialize.js"),v=r(p),b=e("./asty-version.js"),g=r(b),m=function(){function e(){var n=this;o(this,e),this.ASTYNode=function(){};var t=[[f.default,"init","type","pos","set","unset","get","attrs","nth","ins","add","del","childs","parent","serialize"],[c.default,"merge"],[y.default,"walk"],[h.default,"dump"]];return t.forEach(function(e){var t=e[0].prototype;e.slice(1).forEach(function(e){n.ASTYNode.prototype[e]=t[e]})}),this}return u(e,[{key:"version",value:function(){return g.default}},{key:"extend",value:function(e){for(var n in e)e.hasOwnProperty(n)&&(this.ASTYNode.prototype[n]=e[n]);return this}},{key:"create",value:function(e){return(new this.ASTYNode).init(this,e)}},{key:"isA",value:function(e){return"object"===("undefined"==typeof e?"undefined":i(e))&&e instanceof this.ASTYNode&&"boolean"==typeof e.ASTy&&e.ASTy===!0}},{key:"serialize",value:function(e){return v.default.serialize(this,e)}},{key:"unserialize",value:function(e){return v.default.unserialize(this,e)}}]),e}();n.exports=m},{"./asty-base.js":1,"./asty-dump.js":2,"./asty-merge.js":3,"./asty-serialize.js":4,"./asty-version.js":5,"./asty-walk.js":6}]},{},[1,2,3,4,5,6,7])(7)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(_dereq_,module,exports){
"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ASTY=_dereq_("asty"),ASTQ=_dereq_("astq"),ASTQAdapter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"taste",value:function(){return!0}},{key:"getParentNode",value:function(e){return e.parent()}},{key:"getChildNodes",value:function(e){return e.childs()}},{key:"getNodeType",value:function(e){return e.type()}},{key:"getNodeAttrNames",value:function(e){return e.attrs()}},{key:"getNodeAttrValue",value:function(e,t){return e.get(t)}}]),e}(),ASTYASTQ=function(e){function t(){var e,r;_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!(n instanceof t))return e=new t,_possibleConstructorReturn(n,e);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=new ASTQ;return o.adapter(new ASTQAdapter),n.extend({query:function(e,t,r){return o.query(this,e,t,r)}}),r=n,_possibleConstructorReturn(n,r)}return _inherits(t,e),t}(ASTY);module.exports=ASTYASTQ;
},{"astq":1,"asty":2}]},{},[3])(3)
});


//# sourceMappingURL=asty-astq.browser.map